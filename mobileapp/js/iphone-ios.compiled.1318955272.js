(function(){var f;f={version:[0,9,1],onReady:function(b){b()},adapter:"ios",adapterModules:{ios:"app,uielement,inputs/touch,uielements/list,uielements/mediacontrols,uielements/video.mediaelement,uielements/video.youtube,utils/datasource".split(",")},adapterDeps:[],debug:!1,basePath:"joshfire/",requirePath:""};var b=function(b){for(var d=[f.adapter].concat(f.adapterDeps),c=0,h=b.length;c<h;c++){b[c]=b[c].replace(/\{adapter\}/g,f.adapter);var a=/^noadapter\!/.test(b[c]);a&&(b[c]=b[c].substring(10));
if(/^joshfire\//.test(b[c])){var g=b[c].substring(9);b[c]=f.basePath+g;for(var k=0,n=d.length;k<n&&!a;k++){for(var p=!1,o=0,q=f.adapterModules[d[k]].length;o<q;o++)if(f.adapterModules[d[k]][o]===g){b[c]=b[c].replace(g,"adapters/"+d[k]+"/"+g);p=!0;break}if(p===!0)break}}else b[c]=f.requirePath+b[c]}return b};f.define=function(e,d){define(b(e),d)};f.require=function(e,d){var c={};f.debug&&f.adapter!="node"&&(c.urlArgs="bust="+(new Date).getTime());require(c,b(e),d)};this.Joshfire=f;if(typeof module!==
"undefined"&&module.exports)module.exports.Joshfire=f})();(function(f){f.onReady=function(b){f.require(["joshfire/vendor/zepto"],function(){b.call()})}})(Joshfire);Joshfire.definedModules={};Joshfire.loadedModules={};Joshfire.loadModule=function(f){Joshfire.loadedModules[f]||(Joshfire.loadedModules[f]=Joshfire.definedModules[f](),Joshfire.definedModules[f]=!0);return Joshfire.loadedModules[f]};Joshfire.compiled=1318955250592;
var require=function(f,b,e){f.length&&(e=b,b=f);f=[];typeof b==="string"&&(b=[b]);for(var d=0;d<b.length;d++){Joshfire.definedModules[b[d]]||(b[d]="joshfire/"+b[d]);if(!Joshfire.definedModules[b[d]])throw Error(b[d]+" was not included, please reference it in build.js");f.push(Joshfire.loadModule(b[d]))}e.apply(this,f)};
Joshfire.definedModules["joshfire/vendor/underscore"]=function(){return function(){function f(a,b,g){if(a===b)return a!==0||1/a==1/b;if(a==null)return a===b;var d=typeof a;if(d!=typeof b)return!1;if(!a!=!b)return!1;if(j.isNaN(a))return j.isNaN(b);var c=j.isString(a),e=j.isString(b);if(c||e)return c&&e&&String(a)==String(b);c=j.isNumber(a);e=j.isNumber(b);if(c||e)return c&&e&&+a==+b;c=j.isBoolean(a);e=j.isBoolean(b);if(c||e)return c&&e&&+a==+b;c=j.isDate(a);e=j.isDate(b);if(c||e)return c&&e&&a.getTime()==
b.getTime();c=j.isRegExp(a);e=j.isRegExp(b);if(c||e)return c&&e&&a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;if(d!="object")return!1;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(j.isFunction(a.isEqual))return a.isEqual(b);for(d=g.length;d--;)if(g[d]==a)return!0;g.push(a);d=0;c=!0;if(a.length===+a.length||b.length===+b.length){if(d=a.length,c=d==b.length)for(;d--;)if(!(c=d in a==d in b&&f(a[d],b[d],g)))break}else{for(var h in a)if(n.call(a,h)&&
(d++,!(c=n.call(b,h)&&f(a[h],b[h],g))))break;if(c){for(h in b)if(n.call(b,h)&&!d--)break;c=!d}}g.pop();return c}var b=this,e=b._,d={},c=Array.prototype,h=Object.prototype,a=c.slice,g=c.unshift,k=h.toString,n=h.hasOwnProperty,p=c.forEach,o=c.map,q=c.reduce,s=c.reduceRight,r=c.filter,v=c.every,w=c.some,m=c.indexOf,x=c.lastIndexOf,h=Array.isArray,y=Object.keys,t=Function.prototype.bind,j=function(a){return new z(a)};typeof module!=="undefined"&&module.exports?(module.exports=j,j._=j):b._=j;j.VERSION=
"1.2.0";var u=j.each=j.forEach=function(a,b,g){if(a!=null)if(p&&a.forEach===p)a.forEach(b,g);else if(a.length===+a.length)for(var c=0,e=a.length;c<e;c++){if(c in a&&b.call(g,a[c],c,a)===d)break}else for(c in a)if(n.call(a,c)&&b.call(g,a[c],c,a)===d)break};j.map=function(a,b,g){var c=[];if(a==null)return c;if(o&&a.map===o)return a.map(b,g);u(a,function(a,d,e){c[c.length]=b.call(g,a,d,e)});return c};j.reduce=j.foldl=j.inject=function(a,b,g,c){var d=g!==void 0;a==null&&(a=[]);if(q&&a.reduce===q)return c&&
(b=j.bind(b,c)),d?a.reduce(b,g):a.reduce(b);u(a,function(a,e,h){d?g=b.call(c,g,a,e,h):(g=a,d=!0)});if(!d)throw new TypeError("Reduce of empty array with no initial value");return g};j.reduceRight=j.foldr=function(a,b,g,c){a==null&&(a=[]);if(s&&a.reduceRight===s)return c&&(b=j.bind(b,c)),g!==void 0?a.reduceRight(b,g):a.reduceRight(b);a=(j.isArray(a)?a.slice():j.toArray(a)).reverse();return j.reduce(a,b,g,c)};j.find=j.detect=function(a,b,g){var c;A(a,function(a,d,e){if(b.call(g,a,d,e))return c=a,!0});
return c};j.filter=j.select=function(a,b,g){var c=[];if(a==null)return c;if(r&&a.filter===r)return a.filter(b,g);u(a,function(a,d,e){b.call(g,a,d,e)&&(c[c.length]=a)});return c};j.reject=function(a,b,g){var c=[];if(a==null)return c;u(a,function(a,d,e){b.call(g,a,d,e)||(c[c.length]=a)});return c};j.every=j.all=function(a,b,c){var g=!0;if(a==null)return g;if(v&&a.every===v)return a.every(b,c);u(a,function(a,e,h){if(!(g=g&&b.call(c,a,e,h)))return d});return g};var A=j.some=j.any=function(a,b,g){var b=
b||j.identity,c=!1;if(a==null)return c;if(w&&a.some===w)return a.some(b,g);u(a,function(a,e,h){if(c|=b.call(g,a,e,h))return d});return!!c};j.include=j.contains=function(a,b){var g=!1;if(a==null)return g;if(m&&a.indexOf===m)return a.indexOf(b)!=-1;A(a,function(a){if(g=a===b)return!0});return g};j.invoke=function(b,g){var c=a.call(arguments,2);return j.map(b,function(a){return(g.call?g||a:a[g]).apply(a,c)})};j.pluck=function(a,b){return j.map(a,function(a){return a[b]})};j.max=function(a,b,g){if(!b&&
j.isArray(a))return Math.max.apply(Math,a);if(!b&&j.isEmpty(a))return-Infinity;var c={computed:-Infinity};u(a,function(a,d,e){d=b?b.call(g,a,d,e):a;d>=c.computed&&(c={value:a,computed:d})});return c.value};j.min=function(a,b,g){if(!b&&j.isArray(a))return Math.min.apply(Math,a);if(!b&&j.isEmpty(a))return Infinity;var c={computed:Infinity};u(a,function(a,d,e){d=b?b.call(g,a,d,e):a;d<c.computed&&(c={value:a,computed:d})});return c.value};j.shuffle=function(a){var b=[],g;u(a,function(a,c){c==0?b[0]=a:
(g=Math.floor(Math.random()*(c+1)),b[c]=b[g],b[g]=a)});return b};j.sortBy=function(a,b,g){return j.pluck(j.map(a,function(a,c,d){return{value:a,criteria:b.call(g,a,c,d)}}).sort(function(a,b){var g=a.criteria,c=b.criteria;return g<c?-1:g>c?1:0}),"value")};j.groupBy=function(a,b){var g={};u(a,function(a,c){var d=b(a,c);(g[d]||(g[d]=[])).push(a)});return g};j.sortedIndex=function(a,b,g){g||(g=j.identity);for(var c=0,d=a.length;c<d;){var e=c+d>>1;g(a[e])<g(b)?c=e+1:d=e}return c};j.toArray=function(b){return!b?
[]:b.toArray?b.toArray():j.isArray(b)?a.call(b):j.isArguments(b)?a.call(b):j.values(b)};j.size=function(a){return j.toArray(a).length};j.first=j.head=function(b,g,c){return g!=null&&!c?a.call(b,0,g):b[0]};j.initial=function(b,g,c){return a.call(b,0,b.length-(g==null||c?1:g))};j.last=function(b,g,c){return g!=null&&!c?a.call(b,b.length-g):b[b.length-1]};j.rest=j.tail=function(b,g,c){return a.call(b,g==null||c?1:g)};j.compact=function(a){return j.filter(a,function(a){return!!a})};j.flatten=function(a){return j.reduce(a,
function(a,b){if(j.isArray(b))return a.concat(j.flatten(b));a[a.length]=b;return a},[])};j.without=function(b){return j.difference(b,a.call(arguments,1))};j.uniq=j.unique=function(a,b,g){var g=g?j.map(a,g):a,c=[];j.reduce(g,function(g,d,e){if(0==e||(b===!0?j.last(g)!=d:!j.include(g,d)))g[g.length]=d,c[c.length]=a[e];return g},[]);return c};j.union=function(){return j.uniq(j.flatten(arguments))};j.intersection=j.intersect=function(b){var g=a.call(arguments,1);return j.filter(j.uniq(b),function(a){return j.every(g,
function(b){return j.indexOf(b,a)>=0})})};j.difference=function(a,b){return j.filter(a,function(a){return!j.include(b,a)})};j.zip=function(){for(var b=a.call(arguments),g=j.max(j.pluck(b,"length")),c=Array(g),d=0;d<g;d++)c[d]=j.pluck(b,""+d);return c};j.indexOf=function(a,b,g){if(a==null)return-1;var c;if(g)return g=j.sortedIndex(a,b),a[g]===b?g:-1;if(m&&a.indexOf===m)return a.indexOf(b);for(g=0,c=a.length;g<c;g++)if(a[g]===b)return g;return-1};j.lastIndexOf=function(a,b){if(a==null)return-1;if(x&&
a.lastIndexOf===x)return a.lastIndexOf(b);for(var g=a.length;g--;)if(a[g]===b)return g;return-1};j.range=function(a,b,g){arguments.length<=1&&(b=a||0,a=0);for(var g=arguments[2]||1,c=Math.max(Math.ceil((b-a)/g),0),d=0,e=Array(c);d<c;)e[d++]=a,a+=g;return e};j.bind=function(b,g){if(b.bind===t&&t)return t.apply(b,a.call(arguments,1));var c=a.call(arguments,2);return function(){return b.apply(g,c.concat(a.call(arguments)))}};j.bindAll=function(b){var g=a.call(arguments,1);g.length==0&&(g=j.functions(b));
u(g,function(a){b[a]=j.bind(b[a],b)});return b};j.memoize=function(a,b){var g={};b||(b=j.identity);return function(){var c=b.apply(this,arguments);return n.call(g,c)?g[c]:g[c]=a.apply(this,arguments)}};j.delay=function(b,g){var c=a.call(arguments,2);return setTimeout(function(){return b.apply(b,c)},g)};j.defer=function(b){return j.delay.apply(j,[b,1].concat(a.call(arguments,1)))};var B=function(a,b,g){var c;return function(){var d=this,e=arguments,h=function(){c=null;a.apply(d,e)};g&&clearTimeout(c);
if(g||!c)c=setTimeout(h,b)}};j.throttle=function(a,b){return B(a,b,!1)};j.debounce=function(a,b){return B(a,b,!0)};j.once=function(a){var b=!1,g;return function(){if(b)return g;b=!0;return g=a.apply(this,arguments)}};j.wrap=function(b,g){return function(){var c=[b].concat(a.call(arguments));return g.apply(this,c)}};j.compose=function(){var b=a.call(arguments);return function(){for(var g=a.call(arguments),c=b.length-1;c>=0;c--)g=[b[c].apply(this,g)];return g[0]}};j.after=function(a,b){return function(){if(--a<
1)return b.apply(this,arguments)}};j.keys=y||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],g;for(g in a)n.call(a,g)&&(b[b.length]=g);return b};j.values=function(a){return j.map(a,j.identity)};j.functions=j.methods=function(a){var b=[],g;for(g in a)j.isFunction(a[g])&&b.push(g);return b.sort()};j.extend=function(b){u(a.call(arguments,1),function(a){for(var g in a)a[g]!==void 0&&(b[g]=a[g])});return b};j.defaults=function(b){u(a.call(arguments,1),function(a){for(var g in a)b[g]==
null&&(b[g]=a[g])});return b};j.clone=function(a){return j.isArray(a)?a.slice():j.extend({},a)};j.tap=function(a,b){b(a);return a};j.isEqual=function(a,b){return f(a,b,[])};j.isEmpty=function(a){if(j.isArray(a)||j.isString(a))return a.length===0;for(var b in a)if(n.call(a,b))return!1;return!0};j.isElement=function(a){return!!(a&&a.nodeType==1)};j.isArray=h||function(a){return k.call(a)==="[object Array]"};j.isObject=function(a){return a===Object(a)};j.isArguments=function(a){return!(!a||!n.call(a,
"callee"))};j.isFunction=function(a){return!(!a||!a.constructor||!a.call||!a.apply)};j.isString=function(a){return!!(a===""||a&&a.charCodeAt&&a.substr)};j.isNumber=function(a){return!!(a===0||a&&a.toExponential&&a.toFixed)};j.isNaN=function(a){return a!==a};j.isBoolean=function(a){return a===!0||a===!1||k.call(a)=="[object Boolean]"};j.isDate=function(a){return!(!a||!a.getTimezoneOffset||!a.setUTCFullYear)};j.isRegExp=function(a){return!(!a||!a.test||!a.exec||!(a.ignoreCase||a.ignoreCase===!1))};
j.isNull=function(a){return a===null};j.isUndefined=function(a){return a===void 0};j.noConflict=function(){b._=e;return this};j.identity=function(a){return a};j.times=function(a,b,g){for(var c=0;c<a;c++)b.call(g,c)};j.escape=function(a){return(""+a).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};j.mixin=function(a){u(j.functions(a),function(b){E(b,j[b]=a[b])})};var D=0;j.uniqueId=function(a){var b=
D++;return a?a+b:b};j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};j.template=function(a,b){var g=j.templateSettings,g="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(g.escape,function(a,b){return"',_.escape("+b.replace(/\\'/g,"'")+"),'"}).replace(g.interpolate,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(g.evaluate||null,function(a,
b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",g=new Function("obj",g);return b?g(b):g};var z=function(a){this._wrapped=a};j.prototype=z.prototype;var C=function(a,b){return b?j(a).chain():a},E=function(b,c){z.prototype[b]=function(){var b=a.call(arguments);g.call(b,this._wrapped);return C(c.apply(j,b),this._chain)}};j.mixin(j);u("pop,push,reverse,shift,sort,splice,unshift".split(","),
function(a){var b=c[a];z.prototype[a]=function(){b.apply(this._wrapped,arguments);return C(this._wrapped,this._chain)}});u(["concat","join","slice"],function(a){var b=c[a];z.prototype[a]=function(){return C(b.apply(this._wrapped,arguments),this._chain)}});z.prototype.chain=function(){this._chain=!0;return this};z.prototype.value=function(){return this._wrapped};return j}()};
Joshfire.definedModules["joshfire/class"]=function(){return function(f){var b=!1,e=/xyz/.test(function(){})?/\b__super\b/:/.*/,d=function(){};d.extend=function(c){function d(){!b&&this.__constructor&&this.__constructor.apply(this,arguments)}var a=this.prototype;b=!0;var g=new this;b=!1;for(var k in c)g[k]=typeof c[k]=="function"&&typeof a[k]=="function"&&e.test(c[k])?function(b,g){return function(){var c=this.__super;this.__super=a[b];var d=g.apply(this,arguments);this.__super=c;return d}}(k,c[k]):
c[k];d.prototype=g;d.constructor=d;d.extend=arguments.callee;return d};return function(b,e){return f.isFunction(b)?b.extend(e):d.extend(b)}}(Joshfire.loadModule("joshfire/vendor/underscore"))};Joshfire.definedModules["joshfire/main"]=function(){return Joshfire};
Joshfire.definedModules["joshfire/mixins/pubsub"]=function(){return function(){return{mixin:function(f){f.__pubsubSubscribes=!1;f.__pubsubLastUid=-1;f.publish=function(b,e,d){if(!this.__pubsubSubscribes.hasOwnProperty(b)&&!this.__pubsubSubscribes.hasOwnProperty("*"))return!1;var c=this,h=function(){for(var a=(c.__pubsubSubscribes[b]||[]).concat(c.__pubsubSubscribes["*"]||[]),g=0,d=a.length;g<d;g++)a[g]&&a[g].func(b,e,a[g].token)};d===!0?h():setTimeout(h,0);return!0};f.subscribe=function(b,e){if(this.__pubsubSubscribes===
!1)this.__pubsubSubscribes={};this.__pubsubSubscribes.hasOwnProperty(b)||(this.__pubsubSubscribes[b]=[]);var d=(++this.__pubsubLastUid).toString();this.__pubsubSubscribes[b].push({token:d,func:e});return d};f.unsubscribe=function(b){for(var e in this.__pubsubSubscribes)if(this.__pubsubSubscribes.hasOwnProperty(e))for(var d=0,c=this.__pubsubSubscribes[e].length;d<c;d++)if(this.__pubsubSubscribes[e][d].token===b)return this.__pubsubSubscribes[e].splice(d,1),b;return!1}}}}(Joshfire.loadModule("joshfire/main"))};
Joshfire.definedModules["joshfire/mixins/state"]=function(){return function(f){return{mixin:function(b){b.setState=function(b,d){if(!this.__stateStore)this.__stateStore={};f.isEqual(this.__stateStore[b],d)||(this.__stateStore[b]=d,this.publish("state",[b,d],!0))};b.setStates=function(b){if(!this.__stateStore)this.__stateStore={};var d=this,c=[];f.each(b,function(b,a){f.isEqual(d.__stateStore[a],b)||(d.__stateStore[a]=b,c.push([a,b]))});f.each(c,function(b){d.publish("state",b,!0)})};b.deleteState=
function(b){if(!this.__stateStore)this.__stateStore={};delete this.__stateStore[b]};b.onState=function(b,d,c){this.getState(b)==d&&c();this.subscribe("state",function(h,a){a[0]==b&&a[1]==d&&c()})};b.getState=function(b){if(!this.__stateStore)this.__stateStore={};return!b?this.__stateStore:this.__stateStore[b]}}}}(Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/vendor/json2"]=function(){return function(){if(!window.JSON)window.JSON={};(function(){function f(g,c){var d,e,s,r,v=h,w,m=c[g];m&&typeof m==="object"&&typeof m.toJSON==="function"&&(m=m.toJSON(g));typeof k==="function"&&(m=k.call(c,g,m));switch(typeof m){case "string":return b(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);case "object":if(!m)return"null";h+=a;w=[];if(Object.prototype.toString.apply(m)==="[object Array]"){r=
m.length;for(d=0;d<r;d+=1)w[d]=f(d,m)||"null";s=w.length===0?"[]":h?"[\n"+h+w.join(",\n"+h)+"\n"+v+"]":"["+w.join(",")+"]";h=v;return s}if(k&&typeof k==="object"){r=k.length;for(d=0;d<r;d+=1)typeof k[d]==="string"&&(e=k[d],(s=f(e,m))&&w.push(b(e)+(h?": ":":")+s))}else for(e in m)Object.prototype.hasOwnProperty.call(m,e)&&(s=f(e,m))&&w.push(b(e)+(h?": ":":")+s);s=w.length===0?"{}":h?"{\n"+h+w.join(",\n"+h)+"\n"+v+"}":"{"+w.join(",")+"}";h=v;return s}}function b(a){c.lastIndex=0;return c.test(a)?'"'+
a.replace(c,function(a){var b=g[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(a){return a<10?"0"+a:a}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=
function(){return this.valueOf()};var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,a,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof JSON.stringify!=="function")JSON.stringify=function(b,g,c){var d;a=h="";if(typeof c==="number")for(d=0;d<c;d+=1)a+=" ";else typeof c===
"string"&&(a=c);if((k=g)&&typeof g!=="function"&&(typeof g!=="object"||typeof g.length!=="number"))throw Error("JSON.stringify");return f("",{"":b})};if(typeof JSON.parse!=="function")JSON.parse=function(a,b){function g(a,c){var d,e,h=a[c];if(h&&typeof h==="object")for(d in h)Object.prototype.hasOwnProperty.call(h,d)&&(e=g(h,d),e!==void 0?h[d]=e:delete h[d]);return b.call(a,c,h)}var c,a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));
if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+a+")"),typeof b==="function"?g({"":c},""):c;throw new SyntaxError("JSON.parse");}})();return window.JSON=JSON}()};
Joshfire.definedModules["joshfire/tree"]=function(){return function(f,b,e,d,c,h){f=b({allowRootAccess:!1,inverses:{down:"up",up:"down",next:"prev",prev:"next"},__constructor:function(a,b,d){this.app=a;this.options=c.extend({defaultQuery:{limit:20,skip:0}},d||{});this.id=b;this.id2index={};this.beingLoaded={};this.stateChangeSerial=1;this.tree={};this.childrenFunctions={};this.queryCache={};this.itemCache={};this.init()},init:function(){},setup:function(a){this.options.tree?this.set("/",this.options.tree,
a):this.set("/",this.buildTree?this.buildTree():[],a)},moveTo:function(a,b,c){var d=this;if(b)if(d.isDirectory(b)){var e=!0;d.resolveMoves(b.substring(0,b.length-1),["down"],c,function(b,g){e=!1;d.setState(a,g)});e&&d.setState(a,b)}else d.setState(a,b)},move:function(a,b,c){var d=this,e=++d.stateChangeSerial;if(b){var h=!0;d.resolveMoves(d.getState(a),b,c,function(b,g){h=!1;e==d.stateChangeSerial&&d.moveTo(a,g)});h&&(b=="down"||b.length==1&&b[0]=="down")&&d.setState(a,(d.getState(a)+"/").replace(/\/\/$/,
"/"))}},compactMoves:function(a){if(a.length<2)return[].concat(a);for(var b=[],c=0;c<a.length;c++)c<a.length-1&&a[c]==this.inverses[a[c+1]]?c++:b.push(a[c]);return b},resolveMoves:function(a,b,d,e){var h=this,b=c.isString(b)?[b]:[].concat(b);this.isDirectory(a)&&(a=this.getDirName(a),b.unshift("down"));var b=[].concat(this.compactMoves(b)),f=function(a,s,r){if(a)return e(a);if(b.length===0)return e(null,s,r);a=b.shift();a=="up"?h._resolveMoveUp(s,f):a=="next"?h._resolveMoveNextPrev(s,1,f):a=="prev"?
h._resolveMoveNextPrev(s,-1,f):a=="down"&&(a=c.indexOf(b,"down")==-1,h._resolveMoveDown(s,a?d:!1,f))};f(null,a)},_resolveMoveNextPrev:function(a,b,c){var d=this.getDirName(a)+"/",e=this.getBaseName(a),e=this.id2index[d][e];e+=b;e>=0&&e<this.tree[d].length&&(a=d+this.tree[d][e].id);c(null,a)},_resolveMoveUp:function(a,b){var c=this.getDirName(a);if(c!==""||this.allowRootAccess)a=c;b(null,a)},_resolveMoveDown:function(a,b,d){var e=this;if(e.childrenFunctions[a]){var b=e._prepareQuery(b),f=function(c,
h,f,o){if(c)return d(c);if(!o){e.addToQueryCache(a,b,h,f);c=0;for(o=h.length;c<o;c++)e.addToItemCache(a+"/"+h[c].id,h[c],f);e.insert(a+"/",b,h,f)}h.length?(a=a+"/"+e.tree[a+"/"][0].id,d(null,a,h)):d(null,a,[])},o=e.checkQueryCache(a,b);if(o)f(null,o.data,o.options,!0);else{var q=a+"/ "+h.stringify(b);e.beingLoaded[q]?e.beingLoaded[q].push(f):(e.beingLoaded[q]=[f],e.publish("loading",[a+"/",b],!0),e.childrenFunctions[a](b,function(a,b,g){var d=e.beingLoaded[q];delete e.beingLoaded[q];c.each(d,function(c){c(a,
b,g||{})})}))}}else e.tree[a+"/"]?e.tree[a+"/"]!="loading"&&(e.tree[a+"/"].length>0&&(a=a+"/"+e.tree[a+"/"][0].id),f=this.getDirName(a)+"/",d(null,a,this.get(f))):d(null,a,[])},_prepareQuery:function(a){return a=c.extend({},this.options.defaultQuery,a||{})},checkQueryCache:function(a,b){var c=h.stringify(b);if(this.queryCache[a]&&this.queryCache[a][c])if(+new Date<this.queryCache[a][c].expires)return this.queryCache[a][c];else delete this.queryCache[a][c];return null},addToQueryCache:function(a,b,
c,d){var e=d.cache;e&&(b=h.stringify(b),this.queryCache[a]||(this.queryCache[a]={}),this.queryCache[a][b]={expires:+new Date+e*1E3,data:c,options:d})},checkItemCache:function(a){if(this.itemCache[a])if(+new Date<this.itemCache[a].expires)return this.itemCache[a].data;else delete this.itemCache[a];return null},addToItemCache:function(a,b,c){var d=c.cache;d&&(this.itemCache[a]={expires:+new Date+d*1E3,data:b,options:c})},get:function(a){if(this.isDirectory(a))return this.tree[a];else{var b;b=a===""?
"":this.getDirName(a)+"/";a=this.getBaseName(a);return this.tree[b]&&this.id2index[b]!==null&&(a=this.id2index[b][a],a!==null)?this.tree[b][a]:null}},fetch:function(a,b,c){var d=this;if(a=="/")return c(null,d.get("/"));var e=d.isDirectory(a),h=a.substring(1).split("/"),f="";if(!e){var s=this.checkItemCache(a);if(s)return c(null,s)}var r=function(){d.resolveMoves(f,["down"],h.length==1?b:!1,function(b,g,s){h.length==1?e?c(null,s):c(null,d.get(a)):(f+="/"+h.shift(),r())})};r()},isDirectory:function(a){return a.charAt(a.length-
1)=="/"},getBaseName:function(a){a=a.split("/");return a[a.length-1]},sendChangeEvent:function(a){this.publish("change",[a,this.get(a)])},getDirName:function(a){return a.replace(/\/[^\/]*$/,"")},update:function(a,b){var d=this.get(a);c.extend(d,b);this.set(a,d)},set:function(a,b,d){var e=c.clone(b),d=d||function(){},h=this;if(h.isDirectory(a)){h.tree[a]=[];h.id2index[a]={};if(!e.length)return d();for(var b=c.after(e.length,function(){h.sendChangeEvent(a);d()}),f=0;f<e.length;f++)h.id2index[a][e[f].id]=
f,h.set(a+e[f].id,e[f],b)}else{var q;a===""?(q="",h.id2index[""]={"":0},h.tree[""]=[]):q=h.getDirName(a)+"/";b=h.getBaseName(a);if(h.tree[q]===null||h.id2index[q]===null)return d("no base point");var s=h.id2index[q][b];if(s===null)return d("no base point");c.each(h.tree,function(b,c){c.indexOf(a+"/")===0&&delete h.tree[c]});b=e.children;delete e.children;var r=function(){h.formatItem(a,e,function(b,c){h.tree[q][s]=c;h.sendChangeEvent(a);d()})};if(c.isFunction(b))h.childrenFunctions[a]=b;else if(c.isArray(b)){h.set(a+
"/",b,function(a){if(a)return d(a);r()});return}r()}},insert:function(a,b,c){if(this.isDirectory(a)){var d=this.get(a)||[];this.set(a,d.slice(0,b.skip).concat(c,d.slice(b.skip+c.length,d.length)))}},formatItem:function(a,b,c){c(null,b)},prefetchAll:function(){var a=this;a.subscribe("change",function(b,c){var d=c[0];!a.isDirectory(d)&&a.childrenFunctions[d]&&a.moveTo("preload",d+"/")})}});e.mixin(f.prototype);d.mixin(f.prototype);return f}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),
Joshfire.loadModule("joshfire/mixins/pubsub"),Joshfire.loadModule("joshfire/mixins/state"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/vendor/json2"))};
Joshfire.definedModules["joshfire/utils/delayedswitch"]=function(){return function(f){return f({__constructor:function(b,e,d){this._on=b;this._off=e;this.delayON=d;this.timer=!1},on:function(){if(this.delayON){if(!this.timer){var b=this;this.timer=setTimeout(function(){b.timer=!1;b._on&&b._on()},this.delayON)}}else this._on&&this._on()},off:function(){if(this.timer)clearTimeout(this.timer),this.timer=!1;this._off&&this._off()},reset:function(){this.off();this.on()}})}(Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/uielement"]=function(){return function(f,b,e,d,c,h){f=b({getDefaultOptions:function(){return{hideDelay:0,autoShow:!0,showOnFocus:!0,hideOnBlur:!1,innerTemplate:"<%= htmlInner %>",innerHtmlId:!1,htmlId:!1,loadingTemplate:"Loading...",template:'<div style="display:none;" class="josh-type-<%= type %> josh-id-<%= id %> <%= htmlClass %>" id="<%= htmlId %>" data-josh-ui-path="<%= path %>"><%= htmlOuter %></div>',autoRefresh:!0,autoInsert:!0,forceDataPathRefresh:!1}},__constructor:function(a,
b,d){var e=this;e.app=a;e.path=b;e.id=b.substring(1).replace(/\//g,"_",b);e.options=h.extend(e.getDefaultOptions(),d||{});e.htmlClass=e.options.htmlClass||"";e.htmlId=e.getHtmlId();e.innerHtmlId=e.getInnerHtmlId();e.htmlEl=!1;e.innerHtmlEl=!1;e.parentEl=!1;e.parentUi=!1;e.hasFocus=!1;e.nextShowHide=!1;e.children=[];e.showHideSwitch=new c(function(){e.processShowHide()},null,e.options.hideDelay);h.each(e.options,function(a,b){if(b.substring(0,2)=="on"&&typeof a=="function"){var c=b.charAt(2).toLowerCase()+
b.substring(3);e.subscribe(c,function(b,c,d){a(e,b,c,d)})}});e.subscribe("state",function(){e.checkFresh()});e.init();if(!e.data)e.data=!1,e.dataPath=!1;e.publish("afterInit")},init:function(){},setup:function(a){var b=this;b.options.uiDataMaster&&b.app.ui.fetch(b.options.uiDataMaster,!1,function(){var a=b.app.ui.element(b.options.uiDataMaster);a.subscribe("select",function(c,d){d.length&&d[0].length&&a.dataPath&&b.setDataPath(a.dataPath+d[0])})});b.options.uiDataSync&&b.app.ui.fetch(b.options.uiDataSync,
!1,function(){b.app.ui.element(b.options.uiDataSync).subscribe("data",function(a,c){c.length&&b.setData(c[0])})});typeof b.options.dataPath=="string"&&b.setDataPath(b.options.dataPath);a()},setDataPath:function(a){var b=this;if(b.dataPath!=a||b.options.forceDataPathRefresh)b.setLoading(!0),b.setState("dataPath",a),b.dataPath=a,b.app.data.fetch(a,!1,function(c,d){b.dataPath==a&&(b.setLoading(!1),c||(b.setData(d),b.dataBound||b.bindToDataPath()))})},bindToDataPath:function(){var a=this;a.dataBound=
!0;a.app.data.subscribe("change",function(b,c){a.dataPath==c[0]&&a.setData(c[1])})},setLoading:function(a){this.setState("loading",a);if(a&&this.htmlEl&&this.options.loadingTemplate&&!this.children.length)this.htmlEl.innerHTML=this.template(this.options.loadingTemplate),this.htmlIsLoader=!0},focus:function(){var a=this;a.publish("beforeFocus",null,!0);if(!a.hasFocus&&a.options.showOnFocus===!0){for(var b=this.path,c=0;c<a.path.split("/").length-1;c++)a.app.ui.resolveMoves(b,"up",!1,function(b,c){a.app.ui.element(c).show()});
a.show()}this.app.ui.setState("focus",this.path);this.hasFocus=!0;this.publish("afterFocus")},blur:function(){this.publish("beforeBlur",null,!0);this.options.hideOnBlur===!0&&this.hideDelayed();this.hasFocus=!1;this.publish("afterBlur")},template:function(a){this._=h;return h.isFunction(a)?a(this):h.template(a,this)},show:function(){},hide:function(){},hasHtmlClass:function(a){return!a||typeof a!="string"?void 0:(" "+this.htmlEl.className+" ").indexOf(" "+a+" ")!=-1},addHtmlClass:function(a){a&&typeof a==
"string"&&(this.hasHtmlClass(a)||(this.htmlEl.className+=" "+a))},removeHtmlClass:function(a){if(a&&typeof a=="string")this.htmlEl.className=(" "+this.htmlEl.className+" ").split(" "+a+" ").join(" ").slice(1,-1)},toggleHtmlClass:function(a){a&&typeof a=="string"&&(this.hasHtmlClass(a)?this.removeHtmlClass(a):this.addHtmlClass(a))},processShowHide:function(){this.nextShowHide=="show"?this.show():this.hide()},showDelayed:function(){this.nextShowHide="show";this.showHideSwitch.reset()},hideDelayed:function(){this.nextShowHide=
"hide";this.showHideSwitch.reset()},insertInParent:function(){this.parentUi&&this.parentUi.children.push(this)},insert:function(a,b){var c=this;c.options.autoRefresh&&c.subscribe("data",function(){c.refresh()});this.publish("beforeInsert",[a],!0);this.parentInnerHtmlEl=this.parentUi=!1;if(a)if(a.app&&a.options){if(this.parentUi=a,a.innerHtmlEl)this.parentInnerHtmlEl=a.innerHtmlEl}else this.parentInnerHtmlEl=a;else if(this.path.length)this.parentUi=this.app.ui.element(this.app.ui.getDirName(this.path)),
this.parentInnerHtmlEl=this.parentUi.innerHtmlEl;this.insertInParent();this.setState("inserted",!0);this.options.autoShow&&this.show();this.publish("afterInsert");this.insertChildren(!1,b)},insertChildren:function(a,b){var c=this;b||(b=function(){});c.app.ui.fetch(c.path+"/",!1,function(d,e){if(!e||!e.length)return b(d);for(var f=h.after(e.length,function(){b()}),q=0;q<e.length;q++)a||e[q].element.options.autoInsert?e[q].element.insert(c,f):f();return!0})},refresh:function(a){if(this.getState("inserted"))this.htmlIsLoader||
this.children.length==0?(this.htmlInner=this.getInnerHtml(),this.htmlEl.innerHTML=this.template(this.options.innerTemplate),this.htmlIsLoader=!1):this.innerHtmlEl.innerHTML=this.getInnerHtml(),this.publish("afterRefresh"),a&&a()},getHtmlId:function(){return this.options.htmlId?this.options.htmlId:this.app.id+"__"+this.id.toString().replace(/_/g,"__")},getInnerHtmlId:function(){return this.options.innerHtmlId?this.options.innerHtmlId:this.getHtmlId()},checkFresh:function(){this.isFresh()?(this.setState("fresh",
!0),this.publish("fresh")):this.setState("fresh",!1);this.parentUi&&this.parentUi.checkFresh()},isFresh:function(){if(!this.getState("loading")){for(var a=0,b=this.children.length;a<b;a++)if(!this.children[a].isFresh())return!1;return!0}return!1},getHtml:function(){this.htmlInner=this.getInnerHtml();this.htmlOuter=this.template(this.options.innerTemplate);return this.template(this.options.template)},getFreshHtml:function(a){var b=this;if(this.isFresh())a(null,this.getHtml());else var c=this.subscribe("fresh",
function(){b.unsubscribe(c);a(null,b.getHtml())})},getInnerHtml:function(){return""},setData:function(a){this.data=a;this.publish("data",[a]);this.setLoading(!1)}});e.mixin(f.prototype);d.mixin(f.prototype);return f}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/mixins/pubsub"),Joshfire.loadModule("joshfire/mixins/state"),Joshfire.loadModule("joshfire/utils/delayedswitch"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/adapters/ios/uielement"]=function(){return function(f,b,e){return b(f,{getDefaultOptions:function(){return e.extend(this.__super(),{})},remove:function(){$("#"+this.htmlId).remove()},insertInParent:function(){this.__super();document.getElementById(this.htmlId)||$(this.parentInnerHtmlEl).append(this.getHtml());this.htmlEl=document.getElementById(this.htmlId);this.innerHtmlEl=document.getElementById(this.innerHtmlId)},refresh:function(b){(!document.getElementById(this.htmlId)||
!document.getElementById(this.htmlId).id)&&this.options.autoInsert===!0&&this.insert(this.parentEl);this.__super(b)},show:function(){this.publish("beforeShow",null,!0);this._show();this.publish("afterShow");this.showHideSwitch.off()},hide:function(){this.publish("beforeHide",null,!0);this._hide();this.publish("afterHide");this.showHideSwitch.off()},_show:function(){if(document.getElementById(this.htmlId))document.getElementById(this.htmlId),document.getElementById(this.htmlId).style.display="block"},
_hide:function(){if(document.getElementById(this.htmlId))document.getElementById(this.htmlId),document.getElementById(this.htmlId).style.display="none"}})}(Joshfire.loadModule("joshfire/uielement"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/uielements/panel"]=function(){return function(f,b){return b(f,{type:"Panel",getInnerHtml:function(){return this.options.content?this.options.content:this.data&&this.data.content?this.data.content:this.__super()},refresh:function(b){if(!this.children.length)return this.__super(b)}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/tree.ui"]=function(){return function(f,b,e,d){return b(e,{allowRootAccess:!0,setupQueue:[],formatItem:function(b,e,a){var g=this;this.setupQueue.push(b);d.isString(e.type)?f.require(["joshfire/uielements/"+e.type],function(d){e.element=new d(g.app,b,e);a(null,e)}):(e.element=new e.type(g.app,b,e),a(null,e))},setup:function(b){var d=this;d.__super(function(){d.setupElements(b)})},setupElements:function(b){var d=this,a=function(){if(!d.setupQueue.length)return b();
var e=d.setupQueue.shift();d.element(e).setup(a)};a()},addRootElement:function(b){this.set("",{id:"root",type:"panel",autoShow:!0},b)},init:function(){var b=this;this.__super();b.lastFocusedPath=null;b.subscribe("state",function(d,a){var e=a[1];if(a[0]=="focus"){var f=b.element(e);if(e!=b.lastFocusedPath)b.lastFocusedPath&&b.element(b.lastFocusedPath).blur(),f.focus(),b.lastFocusedPath=e}});b.app.subscribe("input",function(d,a){b.lastFocusedPath&&b.element(b.lastFocusedPath).publish(d,a)})},set:function(b,
e,a){var g=this;if(b=="/"&&!this.tree[""]&&!this.tree["/"])if(d.isArray(e))return this.addRootElement(function(){g.set(b,e,a)}),!0;else b="";return this.__super(b,e,a)},element:function(b){b=this.get(b);return!b?!1:b.element}})}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/tree"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/uielements/panel"))};Joshfire.definedModules["joshfire/tree.data"]=function(){return function(f){return f}(Joshfire.loadModule("joshfire/tree"))};
Joshfire.definedModules["joshfire/app"]=function(){return function(f,b,e,d,c,h,a){b=b({id:"DefaultAppId",getDefaultOptions:function(){return{autoSetup:!0,uiTree:!1,inputs:[],dataTree:!1,autoInsert:!1}},__constructor:function(b){this.options=a.extend(this.getDefaultOptions(),b||{});this.init();this.options.autoSetup&&this.setupAll(function(){})},init:function(){},setup:function(a){a()},setupAll:function(a){var b=this,c=function(c){b.publish("error",[c]);a(c)};b.setupDataTree(function(d){if(d)return c(d);
b.setupUiTree(function(d){if(d)return c(d);b.setupInputs(function(d){if(d)return c(d);b.setup(function(d){if(d)return c(d);b.publish("ready");a(null,!0)})})})})},setupUiTree:function(a){this.options.uiTree||this.uiTree?(this.ui=new e(this,"ui",{tree:this.options.uiTree||this.uiTree}),this.ui.setup(a)):this.options.uiClass||this.uiClass?(this.ui=new (this.options.uiClass||this.uiClass)(this,"ui"),this.ui.setup(a)):a(null)},setupDataTree:function(a){this.options.dataTree||this.dataTree?(this.data=new d(this,
"data",{tree:this.options.dataTree||this.dataTree}),this.data.setup(a)):this.options.dataClass||this.dataClass?(this.data=new (this.options.dataClass||this.dataClass)(this,"data"),this.data.setup(a)):a(null)},setupInputs:function(b){var c=this;if(c.options.inputs.length===0)return b(null);var d=a.after(c.options.inputs.length,function(){b(null)});c.inputs={};a.each(c.options.inputs,function(b){var e=function(a){c.inputs[b]=new a(c,b);c.inputs[b].setup(d)};a.isString(b)?f.require(["joshfire/inputs/"+
b],e):e(b)})}});c.mixin(b.prototype);h.mixin(b.prototype);return b}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/tree.ui"),Joshfire.loadModule("joshfire/tree.data"),Joshfire.loadModule("joshfire/mixins/pubsub"),Joshfire.loadModule("joshfire/mixins/state"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/vendor/zepto"]=function(){return function(){(function(b){if(String.prototype.trim===b)String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")};if(Array.prototype.reduce===b)Array.prototype.reduce=function(e){if(this===void 0||this===null)throw new TypeError;var d=Object(this),c=d.length>>>0,h=0,a;if(typeof e!="function")throw new TypeError;if(c==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)a=arguments[1];else{do{if(h in
d){a=d[h++];break}if(++h>=c)throw new TypeError;}while(1)}for(;h<c;)h in d&&(a=e.call(b,a,d[h],h,d)),h++;return a}})();var f=function(){function b(a,b,c){var d=!a||a==3?b:b.parentNode;d.insertBefore(c,!a?d.firstChild:a==1?b.nextSibling:a==2?b:null)}function e(a,b,c,d){return r(b)?b.call(a,c,d):b}function d(a,b){return b===v?c(a):c(a).filter(b)}function c(b,d){if(!b)return h();if(d!==v)return c(d).find(b);else if(r(b))return c(u).ready(b);else if(b instanceof h)return b;else{var e;q(b)?e=o(b):b instanceof
Element||b===window||b===u?(e=[b],b=null):e=z.test(b)?a(b):b.nodeType&&b.nodeType==3?[b]:x(u,b);return h(e,b)}}function h(a,b){a=a||t;a.__proto__=h.prototype;a.selector=b||"";return a}function a(a){C.innerHTML=(""+a).trim();return j.call(C.childNodes)}function g(a){return a in B?B[a]:B[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function f(a){return a.filter(function(a,b,c){return c.indexOf(a)==b})}function n(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})}function p(a){return[].concat.apply([],
a)}function o(a){return a.filter(function(a){return a!==v&&a!==null})}function q(a){return a instanceof Array}function s(a){return a instanceof Object}function r(a){return{}.toString.call(a)=="[object Function]"}var v,w,m,x,y,t=[],j=t.slice,u=window.document,A={},B={},D=u.defaultView.getComputedStyle,z=/^\s*<[^>]+>/,C=u.createElement("div");c.extend=function(a,b){for(w in b)a[w]=b[w];return a};c.qsa=x=function(a,b){return!b?h():j.call(a.querySelectorAll(b))};c.isFunction=r;c.isObject=s;c.isArray=
q;c.fn={forEach:t.forEach,map:t.map,reduce:t.reduce,push:t.push,indexOf:t.indexOf,concat:t.concat,ready:function(a){(u.readyState=="complete"||u.readyState=="loaded")&&a();u.addEventListener("DOMContentLoaded",a,!1);return this},get:function(a){return a===v?this:this[a]},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},each:function(a){this.forEach(function(b,c){a.call(b,c,b)});return this},filter:function(a){return c([].filter.call(this,
function(b){return x(b.parentNode,a).indexOf(b)>=0}))},add:function(a,b){return c(f(this.concat(c(a,b))))},is:function(a){return this.length>0&&c(this[0]).filter(a).length>0},not:function(a){var b=[];if(r(a)&&a.call!==v)this.each(function(c){a.call(this,c)||b.push(this)});else{var d=j.call(typeof a=="string"?this.filter(a):a instanceof NodeList?a:c(a));j.call(this).forEach(function(a){d.indexOf(a)<0&&b.push(a)})}return c(b)},eq:function(a){return c(this[a])},first:function(){return c(this[0])},last:function(){return c(this[this.length-
1])},find:function(a){var b;b=this.length==1?x(this[0],a):p(this.map(function(b){return x(b,a)}));return c(b)},closest:function(a,b){var d=this[0],e=x(b!==v?b:u,a);for(e.length===0&&(d=null);d&&d!==u&&e.indexOf(d)<0;)d=d.parentNode;return c(d!==u&&d)},parents:function(a){for(var b=[],c=this;c.length>0;)c=o(c.map(function(a){if((a=a.parentNode)&&a!==u&&b.indexOf(a)<0)return b.push(a),a}));return d(b,a)},parent:function(a){return d(f(o(this.pluck("parentNode"))),a)},children:function(a){return d(p(this.map(function(a){return j.call(a.children)})),
a)},siblings:function(a){return d(p(this.map(function(a){return j.call(a.parentNode.children).filter(function(b){return b!==a})})),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return this.map(function(b){return b[a]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null);if(D(this,"").getPropertyValue("display")=="none"){var a=this.style,b=this.nodeName,c,d;A[b]||(c=u.createElement(b),u.body.insertAdjacentElement("beforeEnd",
c),d=D(c,"").getPropertyValue("display"),c.parentNode.removeChild(c),d=="none"&&(d="block"),A[b]=d);a.display=A[b]}})},replaceWith:function(a){return this.each(function(){var b=c(this),d=b.prev();b.remove();d.after(a)})},hide:function(){return this.css("display","none")},toggle:function(){return this.css("display")=="none"?this.show():this.hide()},prev:function(){return c(this.pluck("previousElementSibling"))},next:function(){return c(this.pluck("nextElementSibling"))},html:function(a){return a===
v?this.length>0?this[0].innerHTML:null:this.each(function(b){this.innerHTML=e(this,a,b,this.innerHTML)})},text:function(a){return a===v?this.length>0?this[0].innerText:null:this.each(function(){this.innerText=a})},attr:function(a,b){return typeof a=="string"&&b===v?this.length>0&&this[0].nodeName=="INPUT"&&this[0].type=="text"&&a=="value"?this.val():this.length>0?this[0].getAttribute(a)||(a in this[0]?this[0][a]:v):v:this.each(function(c){if(s(a))for(w in a)this.setAttribute(w,a[w]);else this.setAttribute(a,
e(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){this.removeAttribute(a)})},data:function(a,b){return this.attr("data-"+a,b)},val:function(a){return a===v?this.length>0?this[0].value:null:this.each(function(){this.value=a})},offset:function(){if(this.length==0)return null;var a=this[0].getBoundingClientRect();return{left:a.left+u.body.scrollLeft,top:a.top+u.body.scrollTop,width:a.width,height:a.height}},css:function(a,b){if(b===v&&typeof a=="string")return this[0].style[n(a)]||
D(this[0],"").getPropertyValue(a);m="";for(w in a)m+=w+":"+a[w]+";";typeof a=="string"&&(m=a+":"+b);return this.each(function(){this.style.cssText+=";"+m})},index:function(a){return this.indexOf(c(a)[0])},hasClass:function(a){return g(a).test(this[0].className)},addClass:function(a){return this.each(function(b){y=[];var d=this.className;e(this,a,b,d).split(/\s+/g).forEach(function(a){c(this).hasClass(a)||y.push(a)},this);y.length&&(this.className+=(d?" ":"")+y.join(" "))})},removeClass:function(a){return this.each(function(b){y=
this.className;e(this,a,b,y).split(/\s+/g).forEach(function(a){y=y.replace(g(a)," ")});this.className=y.trim()})},toggleClass:function(a,b){return this.each(function(d){d=e(this,a,d,this.className);b!==v&&!b||c(this).hasClass(d)?c(this).removeClass(d):c(this).addClass(d)})},submit:function(){return this.each(function(){try{this.submit()}catch(a){}})}};["width","height"].forEach(function(a){c.fn[a]=function(){var b=this.offset();return b?b[a]:null}});["prepend","after","before","append"].forEach(function(d,
e){c.fn[d]=function(c){typeof c!="object"&&(c=a(c));return this.each(function(a,d){if(c.length||c instanceof h){dom=c;for(var g=0;g<dom.length;g++)b(e,d,dom[e<2?dom.length-g-1:g])}else b(e,d,c)})}});["append","prepend"].forEach(function(b){c.fn[b+"To"]=function(c){typeof c!="object"&&(c=a(c));c[b](this);return this}});h.prototype=c.fn;return c}();"$"in window||(window.$=f);(function(b){function e(a){var c=b.extend({originalEvent:a},a);p.forEach(function(b){c[b]=function(){return a[b].apply(a,arguments)}});
return c}function d(b,c,d,e){var g=b._zid||(b._zid=n++);(c||"").split(/\s/).forEach(function(c){a(b,c,d,e).forEach(function(a){delete f[g][a.i];b.removeEventListener(a.e,a.proxy,!1)})})}function c(a,c,d,e,g){var p=a._zid||(a._zid=n++),m=f[p]||(f[p]=[]);c.split(/\s/).forEach(function(c){var f=g||d,t=function(a){return f(a,a.data)},c=b.extend(h(c),{fn:d,proxy:t,sel:e,del:g,i:m.length});m.push(c);a.addEventListener(c.e,t,!1)})}function h(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}
function a(a,b,c,d){b=h(b);if(b.ns)var e=RegExp("(?:^| )"+b.ns.replace(" "," .* ?")+"(?: |$)");return(f[a._zid||(a._zid=n++)]||[]).filter(function(a){return a&&(!b.e||a.e==b.e)&&(!b.ns||e.test(a.ns))&&(!c||a.fn==c)&&(!d||a.sel==d)})}var g=b.qsa,f={},n=1;b.event={add:c,remove:d};b.fn.bind=function(a,b){return this.each(function(){c(this,a,b)})};b.fn.unbind=function(a,b){return this.each(function(){d(this,a,b)})};b.fn.one=function(a,b){return this.each(function(){var e=this;c(this,a,function(){b();
d(e,a,arguments.callee)})})};var p=["preventDefault","stopImmediatePropagation","stopPropagation"];b.fn.delegate=function(a,d,h){return this.each(function(f,k){c(k,d,h,a,function(c,d){var f=c.target;g(k,a);f&&f!==k&&f!==document&&h.call(f,b.extend(e(c),{currentTarget:f,liveFired:k}),d)})})};b.fn.undelegate=function(a,b,c){return this.each(function(){d(this,b,c,a)})};b.fn.live=function(a,c){b(document.body).delegate(this.selector,a,c);return this};b.fn.die=function(a,c){b(document.body).undelegate(this.selector,
a,c);return this};b.fn.trigger=function(a,b){return this.each(function(){var c=document.createEvent("Events");c.initEvent(a,!0,!0);c.data=b;this.dispatchEvent(c)})}})(f);(function(b){function e(b){var d={},a=b.match(/(Android)\s+([\d.]+)/),e=b.match(/(iPhone\sOS)\s([\d_]+)/),f=b.match(/(iPad).*OS\s([\d_]+)/),n=b.match(/(webOS)\/([\d.]+)/),b=b.match(/(BlackBerry).*Version\/([\d.]+)/);if(a)d.android=!0,d.version=a[2];if(e)d.ios=!0,d.version=e[2].replace(/_/g,"."),d.iphone=!0;if(f)d.ios=!0,d.version=
f[2].replace(/_/g,"."),d.ipad=!0;if(n)d.webos=!0,d.version=n[2];if(b)d.blackberry=!0,d.version=b[2];return d}b.os=e(navigator.userAgent);b.__detect=e;var d=navigator.userAgent.match(/WebKit\/([\d.]+)/);b.browser=d?{webkit:!0,version:d[1]}:{webkit:!1}})(f);(function(b,e){b.fn.anim=function(d,c,h,a){var g=[],f,n;for(n in d)n==="opacity"?f=d[n]:g.push(n+"("+d[n]+")");b.isFunction(a)&&this.one("webkitTransitionEnd",a);return this.css({"-webkit-transition":"all "+(c!==e?c:0.5)+"s "+(h||""),"-webkit-transform":g.join(" "),
opacity:f})}})(f);(function(b){function e(){}var d=0,c=b.isObject,h;b.ajaxJSONP=function(a){var c="jsonp"+ ++d,e=document.createElement("script");window[c]=function(b){a.success(b);delete window[c]};e.src=a.url.replace(/=\?/,"="+c);b("head").append(e)};b.ajaxSettings={type:"GET",beforeSend:e,success:e,error:e,complete:e,accepts:{script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"}};b.ajax=function(a){var a=a||
{},d=b.extend({},a);for(h in b.ajaxSettings)d[h]||(d[h]=b.ajaxSettings[h]);if(/=\?/.test(d.url))return b.ajaxJSONP(d);if(!d.url)d.url=window.location.toString();if(d.data&&!d.contentType)d.contentType="application/x-www-form-urlencoded";if(c(d.data))if(d.contentType=="application/x-www-form-urlencoded")d.data=b.param(d.data);else if(d.contentType=="application/json")d.data=JSON.stringify(d.data);if(d.type.match(/get/i)&&d.data)a=d.data,d.url.match(/\?.*=/)?a="&"+a:a[0]!="?"&&(a="?"+a),d.url+=a;var e=
d.accepts[d.dataType],f=new XMLHttpRequest;d.headers=b.extend({"X-Requested-With":"XMLHttpRequest"},d.headers||{});e&&(d.headers.Accept=e);f.onreadystatechange=function(){if(f.readyState==4){var a,b=!1;if(f.status>=200&&f.status<300||f.status==0){if(e=="application/json")try{a=JSON.parse(f.responseText)}catch(c){b=c}else a=f.responseText;b?d.error(f,"parsererror",b):d.success(a,"success",f)}else b=!0,d.error(f,"error");d.complete(f,b?"error":"success")}};f.open(d.type,d.url,!0);if(d.beforeSend(f,
d)===!1)return f.abort(),!1;if(d.xhrFields)for(var p in d.xhrFields)f[p]=d.xhrFields[p];if(d.contentType)d.headers["Content-Type"]=d.contentType;for(name in d.headers)f.setRequestHeader(name,d.headers[name]);f.send(d.data);return f};b.get=function(a,d){b.ajax({url:a,success:d})};b.post=function(a,d,c,e){b.isFunction(d)&&(e=e||c,c=d,d=null);b.ajax({type:"POST",url:a,data:d,success:c,dataType:e})};b.getJSON=function(a,d){b.ajax({url:a,success:d,dataType:"json"})};b.fn.load=function(a,d){if(!this.length)return this;
var c=this,e=a.split(/\s/),h;e.length>1&&(a=e[0],h=e[1]);b.get(a,function(a){c.html(h?b(document.createElement("div")).html(a).find(h).html():a);d&&d()});return this};b.param=function(a,d){var e=[],f=function(a,b){e.push(encodeURIComponent(d?d+"["+a+"]":a)+"="+encodeURIComponent(b))},p=b.isArray(a);for(h in a)c(a[h])?e.push(b.param(a[h],d?d+"["+h+"]":h)):f(p?"":h,a[h]);return e.join("&").replace("%20","+")}})(f);(function(b){function e(b,a,d,c){var e=Math.abs(b-a),f=Math.abs(d-c);return e>=f?b-a>
0?"Left":"Right":d-c>0?"Up":"Down"}var d={},c;b(document).ready(function(){b(document.body).bind("touchstart",function(b){var a=Date.now(),e=a-(d.last||a);d.target="tagName"in b.touches[0].target?b.touches[0].target:b.touches[0].target.parentNode;c&&clearTimeout(c);d.x1=b.touches[0].pageX;d.y1=b.touches[0].pageY;if(e>0&&e<=250)d.isDoubleTap=!0;d.last=a}).bind("touchmove",function(b){d.x2=b.touches[0].pageX;d.y2=b.touches[0].pageY}).bind("touchend",function(){d.isDoubleTap?(b(d.target).trigger("doubleTap"),
d={}):d.x2>0||d.y2>0?((Math.abs(d.x1-d.x2)>30||Math.abs(d.y1-d.y2)>30)&&b(d.target).trigger("swipe")&&b(d.target).trigger("swipe"+e(d.x1,d.x2,d.y1,d.y2)),d.x1=d.x2=d.y1=d.y2=d.last=0):"last"in d&&(c=setTimeout(function(){c=null;b(d.target).trigger("tap");d={}},250))}).bind("touchcancel",function(){d={}})});"swipe,swipeLeft,swipeRight,swipeUp,swipeDown,doubleTap,tap".split(",").forEach(function(d){b.fn[d]=function(a){return this.bind(d,a)}})})(f);return f}()};
Joshfire.definedModules["joshfire/input"]=function(){return function(f){return f({__constructor:function(b){this.app=b},setup:function(b){b(null)}})}(Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/adapters/ios/inputs/touch"]=function(){return function(f,b,e){return b(f,{setup:function(b){function c(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}}var h=this;e(window).live(c()?"touchstart click tap MozTouchDown":"mousedown click",function(a){for(var b=this;b&&b!=document;b=b.parentNode)if(e(b).attr("data-josh-ui-path")){var d=h.app.ui.element(e(b).attr("data-josh-ui-path"));(!d.hasScroller&&a.type!="click"||a.type=="click"&&d.hasScroller)&&
d.publish("input",["enter",e(b).attr("data-josh-grid-id"),this],!0);break}});c&&e(window).live("swipeLeft swipeRight swipeUp swipeDown",function(a){for(var b=this;b&&b!=document;b=b.parentNode)if(e(b).attr("data-josh-ui-path")){h.app.ui.element(e(b).attr("data-josh-ui-path")).publish("swipe",[a.type.replace(/swipe/,"").toLowerCase(),e(b).attr("data-josh-grid-id"),this],!0);break}});b(null)}})}(Joshfire.loadModule("joshfire/input"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/zepto"))};
Joshfire.definedModules["joshfire/adapters/ios/app"]=function(){return function(f,b,e,d,c,h){Joshfire.getScript=function(){};return f(b,{getDefaultOptions:function(){return d.extend(this.__super(),{inputs:[h],autoInsert:!0,parentElement:document.body})},__constructor:function(a){var b=this;this.options=d.extend(this.getDefaultOptions(),a||{});b.options.autoInsert&&b.subscribe("ready",function(){e.onReady(function(){b.insert(b.options.parentElement)})});this.__super(a)},insert:function(a){this.baseHtmlEl=
d.isString(a)?document.getElementById(a):a;this.publish("beforeInsert",[this.baseHtmlEl],!0);this.ui.element("").insert(this.baseHtmlEl);this.publish("afterInsert")}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/app"),Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/vendor/zepto"),Joshfire.loadModule("joshfire/adapters/ios/inputs/touch"))};
Joshfire.definedModules["joshfire/utils/memorystorage"]=function(){return function(){var f={};return{set:function(b,e){f[b]=e},get:function(b){return f[b]},clear:function(){f={}},remove:function(b){delete f[b]},disabled:!1}}()};
Joshfire.definedModules["joshfire/utils/pool"]=function(){return function(){var f=function(b){var e={},d,c,h=null,b=Math.max(+b|0,1);d=[];for(c=0;c<b;c+=1)d.push([]);e.size=function(){var a;if(h===null)for(a=h=0;a<b;a+=1)h+=d[a].length;return h};e.enqueue=function(a,c){c=c&&+c|0||0;h=null;if(c&&(c<0||c>=b))c=b-1;d[c].push(a)};e.dequeue=function(){var a=null,b,c=d.length;h=null;for(b=0;b<c;b+=1)if(d[b].length){a=d[b].shift();break}return a};return e};return function(b){function e(){var a=n.size();
q("dispense() clients="+a+" available="+k.length);a>0&&(k.length>0?(q("dispense() - reusing obj"),objWithTimeout=k.shift(),n.dequeue()(objWithTimeout.obj)):p<b.max&&(p+=1,q("dispense() - creating obj - count="+p),b.create(function(a){var b=n.dequeue();b?b(a):h.release(a)})))}function d(){o||(o=!0,setTimeout(c,g))}function c(){var a=[],c=(new Date).getTime(),e,h,g;o=!1;for(e=0,h=k.length;e<h;e+=1)g=k[e].timeout,c<g?a.push(k[e]):(q("removeIdle() destroying obj - now:"+c+" timeout:"+g),g=k[e].obj,p-=
1,b.destroy(g));k=a;h=k.length;h>0?(q("availableObjects.length="+h),d()):q("removeIdle() all objects removed")}var h={},a=b.idleTimeoutMillis||3E4,g=b.reapIntervalMillis||1E3,k=[],n=new f(b.priorityRange||1),p=0,o=!1,q=b.log?typeof b.log==="function"?b.log:function(){}:function(){};b.max=Math.max(b.max,1);h.acquire=function(a,b){n.enqueue(a,b);e()};h.borrow=function(a,b){q("borrow() is deprecated. use acquire() instead");h.acquire(a,b)};h.release=function(b){b={obj:b,timeout:(new Date).getTime()+
a};k.push(b);q("timeout: "+b.timeout);e();d()};h.returnToPool=function(a){q("returnToPool() is deprecated. use release() instead");h.release(a)};return h}}()};
Joshfire.definedModules["joshfire/utils/datasource"]=function(){return function(f,b,e,d,c){return e({__constructor:function(e){this.options=c.extend({cacheApi:b},e);this.pool=new d({name:"joshfire",max:this.options.concurrency||1,create:function(a){a()},destroy:function(){}})},testCache:function(b,a){if(b.cache&&this.options.cacheApi&&!this.options.cacheApi.disabled){var d=this.options.cacheApi.get(this.hash(b));if(d&&d.time+b.cache*1E3>+new Date)return a(null,JSON.parse(JSON.stringify(d.result))),
!0}return!1},request:function(b,a){var d=this;if(!this.testCache(b,a)){var e=c.extend({},b),f=function(c,e){d.pool.release();if(a){if(c)return a(c);if(b.cache&&d.options.cacheApi&&!d.options.cacheApi.disabled)try{d.options.cacheApi.set(d.hash(b),{result:JSON.parse(JSON.stringify(e)),time:+new Date})}catch(f){d.options.cacheApi.clear()}a(null,e)}};this.pool.acquire(function(){if(!d.testCache(b,a))return d._request(e,f)})}},_request:function(b){b.error("no backend included!")},hash:function(b){return JSON.stringify([b.url,
b.dataType,b.data,b.type,b.username,b.password])}})}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/utils/memorystorage"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/utils/pool"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/adapters/ios/utils/datasource"]=function(){return function(f,b,e,d){return b(f,{_request:function(b,h){b.dataType=="jsonp"&&(b.url+=b.url.match(/\?.*=/)?"&callback=?&":"?callback=?",d.each(b.data,function(a,d){b.url+="&"+d+"="+a}));b.success=function(a){h(null,a)};b.error=function(a){h(a)};return e.ajax(b)}})}(Joshfire.loadModule("joshfire/utils/datasource"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/zepto"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/api/ted"]=function(){return function(f,b){var e=new f,d=function(b){var a=[],d;for(d in b)a.push(d+"="+encodeURIComponent(b[d]));return a.join("&")},c={query:function(b,a){e.request({url:"http://ted-api.appspot.com/rest/v1/json/"+b,dataType:"jsonp",cache:"no",jsonp:"callback"},function(b,d){return b?a(b,null):a(null,d)})},completeTalks:function(d,a){c.query("Talker?page_size=200&fin_key="+encodeURIComponent(b.pluck(d,"talker").join(",")),function(c,e){if(c)return a(c);
if(e.list.Talker&&!b.isArray(e.list.Talker))e.list.Talker=[e.list.Talker];b.each(d,function(a){b.each(e.list.Talker,function(b){if(a.talker==b.key)a.talker=b})});a(null,d)})},getTalks:function(e,a){var g={page_size:e.limit,offset:e.skip};if(e.filter){if(e.filter.theme){c.query("TalkTheme?"+d(g)+"&feq_theme="+encodeURIComponent(e.filter.theme),function(d,g){if(d)return a(d);delete e.filter.theme;e.filter.id=g.list.TalkTheme?b.isArray(g.list.TalkTheme)?b.pluck(g.list.TalkTheme,"talk"):g.list.TalkTheme.talk:
null;c.getTalks(e,a)});return}if(e.filter.id)b.isArray(e.filter.id)?g.fin_key=e.filter.id.join(","):g.feq_key=e.filter.id}e.sort&&e.sort.date&&(g.ordering=(e.sort.date==-1?"-":"")+"tedid");c.query("Talk?"+d(g),function(d,e){if(d)return a(d);c.completeTalks(b.isArray(e.list.Talk)?e.list.Talk:[e.list.Talk],function(c,e){if(c)return a(d);a(null,b.map(e,function(a){return{id:a.tedid,label:a.name.indexOf(": ")==-1?a.name:a.name.substring(a.name.indexOf(": ")+2),summary:a.shortsummary,image:a.image,talker:a.talker,
key:a.key,duration:a.duration_postad}}))})})},getThemes:function(d,a){c.query("Theme?page_size="+d.limit+"&offset="+d.skip,function(d,c){if(d)return a(d);childCallback(null,b.map(c.list.Theme,function(a){return{id:a.key,label:a.name,image:a.image}}),{cache:86400})})},getVideo:function(b,a){c.query("Video?feq_talk="+b,function(b,d){if(b)return a(b);a(null,d.list.Video)})}};return c}(Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/api/tedx"]=function(){return function(f,b){var e=new f;return{getTEDxList:function(d,c){var h=!1;if(d.filter&&d.filter.id)h=d.filter.id;e.request({url:"https://spreadsheets.google.com/feeds/list/0ArnpnObxnz4RdHJhSVlURUlFdk9pc09jOHkxLWRHa1E/od6/public/values?hl=fr&alt=json-in-script",dataType:"jsonp",cache:3600},function(a,d){if(a)return c(a);var e=[];b.each(d.feed.entry,function(a,b){if(a.gsx$tedxname.$t==h||!h){var d=h?a.gsx$eventname.$t:a.gsx$formattedname.$t+" "+a.gsx$eventname.$t,
c=a.gsx$youtubeplaylist.$t,g=c.match(/list\=PL([0-9A-Z]+)/);g&&(c=g[1]);(g=c.match(/view_play_list\?p\=([0-9A-Z]+)/))&&(c=g[1]);e.push({id:b,image:a.gsx$eventimage.$t,label:d,meta:{title:a.gsx$formattedname.$t,website:a.gsx$website.$t,twitter:a.gsx$twitteraccount.$t,youtube:c}})}});c(null,e)})},formatTalkDataFromYoutube:function(b){var c=b.label,c=c.replace(/tedx( )?([a-z0-9]+)( 20[0-9]{2})?/ig,""),c=c.replace(/[0-9]{2,4}\/[0-9]{2}\/[0-9]{2,4}/g,""),c=c.replace(/^[ \-\:]+/,""),c=c.replace(/[ \-\:]+$/,
"");if(c.indexOf(" - ")>0)b.talker={name:c.substring(0,c.indexOf(" - "))},c=c.substring(c.indexOf(" - ")+3);c=c.replace(/^[ \-\:]+/,"");c=c.replace(/[ \-\:]+$/,"");b.label=c;b.summary=b.summary.replace(/Vinvin \(alias Cyrille Delasteyrie\)/,"Cyrille de Lasteyrie, alias Vinvin, ");b.weight={Vinvin:1,"Jean-Louis Servan-Schreiber":2,"Bruno Giussani":3,"Etienne Klein":4,"Etienne Parizot":5,"Djazia Satour":6}[b.talker?b.talker.name:b.label];return b}}}(Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"),
Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/api/youtube"]=function(){return function(f,b){return f({__constructor:function(){this.datasource=new b},request:function(b,d){return this.datasource.request({url:"http://gdata.youtube.com/feeds/api/"+b,dataType:"jsonp",cache:!0},function(b,e){d(b,e)})},formatVideos:function(b){for(var d=0,c=b.length;d<c;d++)b[d]={id:b[d].id.$t.replace(/^.*\//,""),type:"video",source:"youtube",summary:b[d].content.$t,label:b[d].title.$t,image:b[d].media$group.media$thumbnail?b[d].media$group.media$thumbnail[0].url:
"",url:b[d].link[0].href.replace("http://www.youtube.com/watch?v=","").replace(/\&.*$/,"")};return b},getPlaylistVideos:function(b,d){var c=this;this.request("playlists/"+b+"?alt=json-in-script&max-results=50",function(b,a){if(b)return d(b,a);d(null,c.formatVideos(a.feed.entry))})},getUserVideos:function(b,d){var c=this;this.request("/users/"+b+"/uploads?alt=json-in-script&max-results=50",function(b,a){if(b)return d(b,a);d(null,c.formatVideos(a.feed.entry))})}})}(Joshfire.loadModule("joshfire/class"),
Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"))};
Joshfire.definedModules["src/api/twitter"]=function(){return function(f,b){return f({__constructor:function(){this.datasource=new b},request:function(b,d){return this.datasource.request({url:b,dataType:"jsonp",cache:!0},function(b,e){d(b,e)})},tweetsFromUser:function(b,d,c){this.request("http://twitter.com/status/user_timeline/"+b+".json?count="+d.limit+"&page="+(d.skip?parseInt(d.limit/d.skip)+1:1),c)}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"))};
Joshfire.definedModules["src/tree.data"]=function(){return function(f,b,e,d,c,h,a,g){var k=new h,n=new a;new g;return f(b,{buildTree:function(){var a=this.app,b=a.data;return[{id:"ted",children:[{id:"themes",children:function(a,c){d.getThemes(a,function(d,g){if(d)return c(d,g);c(null,e.map(g,function(d){d.children=function(c,e){a.filter={theme:d.id};b.fetch("/ted/talks/all/",c,function(a,b){e(a,b,{cache:3600})})};return d}),{cache:86400})})}},{id:"talks",children:[{id:"latest",children:function(a,
d){a.sort={date:-1};b.fetch("/ted/talks/all/",a,function(a,b){d(a,b,{cache:3600})})}},{id:"favorites",label:"Favorites",children:function(b,d){if(!a.userSession||!a.userSession.mytv||!a.userSession.mytv.favorites||!a.data.get("/ted/talks/favorites/")||!a.data.get("/ted/talks/favorites/").length)return d("No favorites yet",null);d(null,a.data.get("/ted/talks/favorites/"))}},{id:"all",children:function(a,b){d.getTalks(a,b)}}]}]},{id:"twitter",children:function(b,d){n.tweetsFromUser(a.tedxmeta.twitter,
b,d)}},{id:"tedx",children:function(b,d){var g=function(b,g){if(b)return d(b,g);if(!g.length)return d("no TEDx event");TEDXID&&a.setTEDxMode(g[0].meta);d(null,e.map(g,function(a){a.children=function(b,d){k.getPlaylistVideos(a.meta.youtube,function(a,b){d(a,e.sortBy(e.map(b,c.formatTalkDataFromYoutube),function(a){return a.weight||99}))})};return a}),{cache:3600})};TEDXLIST?g(null,TEDXLIST):c.getTEDxList(TEDXID?{filter:{id:TEDXID}}:{},g)}}]}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/tree.data"),
Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("src/api/ted"),Joshfire.loadModule("src/api/tedx"),Joshfire.loadModule("src/api/youtube"),Joshfire.loadModule("src/api/twitter"),Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"))};
Joshfire.definedModules["joshfire/uielements/list"]=function(){return function(f,b,e){return b(f,{type:"List",data:[],getDefaultOptions:function(){return e.extend(this.__super(),{persistSelection:!0,defaultSelection:[],multiple:!1,itemTemplate:"<%= itemInner %>",itemInnerTemplate:"<%= item.label %>",loadingTemplate:"Loading..."})},init:function(){this.setData(this.options.data||[]);this.setState("selection",this.options.defaultSelection)},setDataPath:function(b){b.match(/\/$/)||(b+="/");this.__super(b)},
resetSelection:function(){this.selectById(this.options.defaultSelection)},selectByIndex:function(b){e.isArray(b)||(b=[b]);for(var c=[],h=0,a=b.length;h<a;h++)c[h]=this.data[b[h]].id;this.selectById(c)},selectById:function(b){var c=this;e.isArray(b)||(b=[b]);e.isEqual(this.selection,b)||(this.setState("selection",b),this.publish("select",[b]),this.app.data.publish("select",[e.map(b,function(b){return c.dataPath+b})]))},getDataById:function(b){for(var c=0,e=this.data.length;c<e;c++)if(this.data[c].id==
b)return this.data[c];return null}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/utils/grid"]=function(){return function(f,b){return f({moves:{up:{down:[0,1],up:[0,-1],right:[1,0],left:[-1,0]},down:{down:[0,-1],up:[0,1],right:[1,0],left:[-1,0]},right:{down:[1,0],up:[-1,0],left:[0,1],right:[0,-1]},left:{down:[1,0],up:[-1,0],left:[0,-1],right:[0,1]}},__constructor:function(b){this.options=b;this.options.dimensions=b.dimensions||2;this.options.orientation=b.orientation||"down";this.options.direction=b.direction||"ltr";this.currentCoords=this.options.defaultPosition||
!1;this.lastCoords=this.options.defaultPosition||!1;this.id2coords={};b.grid&&this.setGrid(b.grid);this.options.inputSource&&this.subscribeToInputEvents(this.options.inputSource)},setGrid:function(b){this.grid=b;this.id2coords={};for(b=0;b<this.grid.length;b++)for(var d=0;d<this.grid[b].length;d++)this.grid[b][d]&&(this.id2coords[this.grid[b][d].id]=[d,b]);if(this.options.onGrid)this.options.onGrid(this.grid)},getCoordinatesById:function(b){return this.id2coords[b]},get:function(b){return this.grid[b[1]][b[0]]},
goTo:function(b){if(!this.currentCoords||b[0]!==this.currentCoords[0]||b[1]!==this.currentCoords[1])if(this.lastCoords=this.currentCoords=b,this.options.onChange&&this.get(this.currentCoords))this.options.onChange(this.currentCoords,this.get(this.currentCoords));if(this.options.onMove)this.options.onMove(this.currentCoords,this.get(this.currentCoords))},goToId:function(b){return this.id2coords[b]?(this.goTo(this.id2coords[b]),!0):!1},go:function(e){if(e=="default")return this.goTo(this.options.defaultPosition);
else if(e=="last")return this.goTo(this.lastCoords);var d=this.moves[this.options.orientation][e][0]+this.currentCoords[0],c=this.moves[this.options.orientation][e][1]+this.currentCoords[1];if(c<0||c>=this.grid.length||!this.grid[c]||d<0||d>=this.grid[c].length||!this.grid[c][d]){if(this.options.sticky){if(this.grid[c]&&this.moves[this.options.orientation][e][0]==0){for(var h=!1,a=0;a<this.grid[c].length;a++)if(this.grid[c][a]&&(h===!1||Math.abs(d-a)<Math.abs(d-h)))h=a;if(h!==!1){this.goTo([h,c]);
return}}if(this.moves[this.options.orientation][e][1]==0){h=!1;for(a=0;a<this.grid.length;a++)if(this.grid[a]&&this.grid[a][d]&&(h===!1||Math.abs(c-a)<Math.abs(c-h)))h=a;if(h!==!1){this.goTo([d,h]);return}}}var g=this.moves[this.options.orientation][e].join("-"),f=!1;b.each(this.moves.down,function(a,b){a.join("-")==g&&(f=b)});if(this.options.onExit)this.options.onExit(e,f)}else this.goTo([d,c])},handleInput:function(b){var d=b[0];if(this.options.direction=="rtl"&&(this.options.orientation=="up"||
this.options.orientation=="down"))d=="left"?d="right":d=="right"&&(d="left");if(d=="left"||d=="right"||d=="down"||d=="up")this.go(d);else if(d=="hover")this.goToId(b[1]);else if(d=="enter"&&(this.goToId(b[1]),this.options.onValidate))this.options.onValidate(this.currentCoords,this.get(this.currentCoords))},subscribeToInputEvents:function(b){var d=this;b.subscribe("input",function(b,e){d.handleInput(e)})}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/vendor/iscroll"]=function(){return function(){(function(){var f=Math,b=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",e="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,d="ontouchstart"in window,c=b+"Transform"in document.documentElement.style,h=/android/gi.test(navigator.appVersion),a=/iphone|ipad/gi.test(navigator.appVersion),g=/playbook/gi.test(navigator.appVersion),k=a||g,n=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),p=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,o="onorientationchange"in window?"orientationchange":"resize",q=d?"touchstart":"mousedown",s=d?"touchmove":"mousemove",r=d?
"touchend":"mouseup",v=d?"touchcancel":"mouseup",w=b=="Moz"?"DOMMouseScroll":"mousewheel",m="translate"+(e?"3d(":"("),x=e?",0)":")",g=function(g,f){var j=this,u;j.wrapper=typeof g=="object"?g:document.getElementById(g);j.wrapper.style.overflow="hidden";j.scroller=j.wrapper.children[0];j.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:h,hideScrollbar:a,fadeScrollbar:a&&
e,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(u in f)j.options[u]=f[u];j.options.useTransform=c?j.options.useTransform:!1;j.options.hScrollbar=j.options.hScroll&&j.options.hScrollbar;j.options.vScrollbar=
j.options.vScroll&&j.options.vScrollbar;j.options.zoom=j.options.useTransform&&j.options.zoom;j.options.useTransition=k&&j.options.useTransition;j.scroller.style[b+"TransitionProperty"]=j.options.useTransform?"-"+b.toLowerCase()+"-transform":"top left";j.scroller.style[b+"TransitionDuration"]="0";j.scroller.style[b+"TransformOrigin"]="0 0";j.options.useTransition&&(j.scroller.style[b+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");j.options.useTransform?j.scroller.style[b+"Transform"]=
m+"0,0"+x:j.scroller.style.cssText+=";position:absolute;top:0;left:0";if(j.options.useTransition)j.options.fixedScrollbar=!0;j.refresh();j._bind(o,window);j._bind(q);d||(j._bind("mouseout",j.wrapper),j._bind(w));if(j.options.checkDOMChanges)j.checkDOMTime=setInterval(function(){j._checkDOMChanges()},500)};g.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){switch(a.type){case q:if(!d&&a.button!==0)break;
this._start(a);break;case s:this._move(a);break;case r:case v:this._end(a);break;case o:this._resize();break;case w:this._wheel(a);break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_checkDOMChanges:function(){!this.moved&&!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(a){var d=document,e;if(this[a+"Scrollbar"]){if(!this[a+
"ScrollbarWrapper"]){e=d.createElement("div");this.options.scrollbarClass?e.className=this.options.scrollbarClass+a.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+(a=="h"?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px");e.style.cssText+=";pointer-events:none;-"+b+"-transition-property:opacity;-"+b+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?
"0":"1");this.wrapper.appendChild(e);this[a+"ScrollbarWrapper"]=e;e=d.createElement("div");if(!this.options.scrollbarClass)e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+b+"-background-clip:padding-box;-"+b+"-box-sizing:border-box;"+(a=="h"?"height:100%":"width:100%")+";-"+b+"-border-radius:3px;border-radius:3px";e.style.cssText+=";pointer-events:none;-"+b+"-transition-property:-"+b+"-transform;-"+b+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+
b+"-transition-duration:0;-"+b+"-transform:"+m+"0,0"+x;this.options.useTransition&&(e.style.cssText+=";-"+b+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)");this[a+"ScrollbarWrapper"].appendChild(e);this[a+"ScrollbarIndicator"]=e}a=="h"?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=f.max(f.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=
this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=f.max(f.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY);this._scrollbarPos(a,!0)}else this[a+
"ScrollbarWrapper"]&&(c&&(this[a+"ScrollbarIndicator"].style[b+"Transform"]=""),this[a+"ScrollbarWrapper"].parentNode.removeChild(this[a+"ScrollbarWrapper"]),this[a+"ScrollbarWrapper"]=null,this[a+"ScrollbarIndicator"]=null)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},h?200:0)},_pos:function(a,d){a=this.hScroll?a:0;d=this.vScroll?d:0;this.options.useTransform?this.scroller.style[b+"Transform"]=m+a+"px,"+d+"px"+x+" scale("+this.scale+")":(a=f.round(a),d=f.round(d),this.scroller.style.left=
a+"px",this.scroller.style.top=d+"px");this.x=a;this.y=d;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(a,d){var c=a=="h"?this.x:this.y;if(this[a+"Scrollbar"])c*=this[a+"ScrollbarProp"],c<0?(this.options.fixedScrollbar||(c=this[a+"ScrollbarIndicatorSize"]+f.round(c*3),c<8&&(c=8),this[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=c+"px"),c=0):c>this[a+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?c=this[a+"ScrollbarMaxScroll"]:(c=this[a+"ScrollbarIndicatorSize"]-
f.round((c-this[a+"ScrollbarMaxScroll"])*3),c<8&&(c=8),this[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=c+"px",c=this[a+"ScrollbarMaxScroll"]+(this[a+"ScrollbarIndicatorSize"]-c))),this[a+"ScrollbarWrapper"].style[b+"TransitionDelay"]="0",this[a+"ScrollbarWrapper"].style.opacity=d&&this.options.hideScrollbar?"0":"1",this[a+"ScrollbarIndicator"].style[b+"Transform"]=m+(a=="h"?c+"px,0":"0,"+c+"px")+x},_start:function(a){var c=d?a.touches[0]:a,e,g;if(this.enabled){this.options.onBeforeScrollStart&&
this.options.onBeforeScrollStart.call(this,a);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.zoom&&d&&a.touches.length>1)g=f.abs(a.touches[0].pageX-a.touches[1].pageX),e=f.abs(a.touches[0].pageY-a.touches[1].pageY),this.touchesDistStart=f.sqrt(g*g+e*e),this.originX=f.abs(a.touches[0].pageX+a.touches[1].pageX-this.wrapperOffsetLeft*2)/2-this.x,this.originY=
f.abs(a.touches[0].pageY+a.touches[1].pageY-this.wrapperOffsetTop*2)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,a);if(this.options.momentum&&(this.options.useTransform?(e=getComputedStyle(this.scroller,null)[b+"Transform"].replace(/[^0-9-.,]/g,"").split(","),g=e[4]*1,e=e[5]*1):(g=getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,"")*1,e=getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")*1),g!=this.x||e!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):
p(this.aniTime),this.steps=[],this._pos(g,e);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=c.pageX;this.pointY=c.pageY;this.startTime=a.timeStamp||(new Date).getTime();this.options.onScrollStart&&this.options.onScrollStart.call(this,a);this._bind(s);this._bind(r);this._bind(v)}},_move:function(a){var c=d?a.touches[0]:a,e=c.pageX-this.pointX,g=c.pageY-this.pointY,h=this.x+e,o=this.y+g,k=a.timeStamp||(new Date).getTime();this.options.onBeforeScrollMove&&
this.options.onBeforeScrollMove.call(this,a);if(this.options.zoom&&d&&a.touches.length>1)h=f.abs(a.touches[0].pageX-a.touches[1].pageX),o=f.abs(a.touches[0].pageY-a.touches[1].pageY),this.touchesDist=f.sqrt(h*h+o*o),this.zoomed=!0,c=1/this.touchesDistStart*this.touchesDist*this.scale,c<this.options.zoomMin?c=0.5*this.options.zoomMin*Math.pow(2,c/this.options.zoomMin):c>this.options.zoomMax&&(c=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/c)),this.lastScale=c/this.scale,h=this.originX-
this.originX*this.lastScale+this.x,o=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[b+"Transform"]=m+h+"px,"+o+"px"+x+" scale("+c+")",this.options.onZoom&&this.options.onZoom.call(this,a);else{this.pointX=c.pageX;this.pointY=c.pageY;if(h>0||h<this.maxScrollX)h=this.options.bounce?this.x+e/2:h>=0||this.maxScrollX>=0?0:this.maxScrollX;if(o>this.minScrollY||o<this.maxScrollY)o=this.options.bounce?this.y+g/2:o>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY;if(this.absDistX<
6&&this.absDistY<6)this.distX+=e,this.distY+=g,this.absDistX=f.abs(this.distX),this.absDistY=f.abs(this.distY);else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)o=this.y,g=0;else if(this.absDistY>this.absDistX+5)h=this.x,e=0;this.moved=!0;this._pos(h,o);this.dirX=e>0?-1:e<0?1:0;this.dirY=g>0?-1:g<0?1:0;if(k-this.startTime>300)this.startTime=k,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}}},_end:function(a){if(!(d&&a.touches.length!=
0)){var c=this,e=d?a.changedTouches[0]:a,g,h,o={dist:0,time:0},k={dist:0,time:0},q=(a.timeStamp||(new Date).getTime())-c.startTime,n=c.x,p=c.y;c._unbind(s);c._unbind(r);c._unbind(v);c.options.onBeforeScrollEnd&&c.options.onBeforeScrollEnd.call(c,a);if(c.zoomed)n=c.scale*c.lastScale,n=Math.max(c.options.zoomMin,n),n=Math.min(c.options.zoomMax,n),c.lastScale=n/c.scale,c.scale=n,c.x=c.originX-c.originX*c.lastScale+c.x,c.y=c.originY-c.originY*c.lastScale+c.y,c.scroller.style[b+"TransitionDuration"]="200ms",
c.scroller.style[b+"Transform"]=m+c.x+"px,"+c.y+"px"+x+" scale("+c.scale+")",c.zoomed=!1,c.refresh(),c.options.onZoomEnd&&c.options.onZoomEnd.call(c,a);else{if(c.moved){if(q<300&&c.options.momentum){o=n?c._momentum(n-c.startX,q,-c.x,c.scrollerW-c.wrapperW+c.x,c.options.bounce?c.wrapperW:0):o;k=p?c._momentum(p-c.startY,q,-c.y,c.maxScrollY<0?c.scrollerH-c.wrapperH+c.y-c.minScrollY:0,c.options.bounce?c.wrapperH:0):k;n=c.x+o.dist;p=c.y+k.dist;if(c.x>0&&n>0||c.x<c.maxScrollX&&n<c.maxScrollX)o={dist:0,
time:0};if(c.y>c.minScrollY&&p>c.minScrollY||c.y<c.maxScrollY&&p<c.maxScrollY)k={dist:0,time:0}}if(o.dist||k.dist){q=f.max(f.max(o.time,k.time),10);if(c.options.snap)o=n-c.absStartX,k=p-c.absStartY,f.abs(o)<c.options.snapThreshold&&f.abs(k)<c.options.snapThreshold?c.scrollTo(c.absStartX,c.absStartY,200):(snap=c._snap(n,p),n=snap.x,p=snap.y,q=f.max(snap.time,q));c.scrollTo(n,p,q)}else c.options.snap?(o=n-c.absStartX,k=p-c.absStartY,f.abs(o)<c.options.snapThreshold&&f.abs(k)<c.options.snapThreshold?
c.scrollTo(c.absStartX,c.absStartY,200):(snap=c._snap(c.x,c.y),(snap.x!=c.x||snap.y!=c.y)&&c.scrollTo(snap.x,snap.y,snap.time))):c._resetPos(200)}else{if(d)c.doubleTapTimer&&c.options.zoom?(clearTimeout(c.doubleTapTimer),c.doubleTapTimer=null,c.options.onZoomStart&&c.options.onZoomStart.call(c,a),c.zoom(c.pointX,c.pointY,c.scale==1?c.options.doubleTapZoom:1),c.options.onZoomEnd&&setTimeout(function(){c.options.onZoomEnd.call(c,a)},200)):c.doubleTapTimer=setTimeout(function(){c.doubleTapTimer=null;
for(g=e.target;g.nodeType!=1;)g=g.parentNode;if(g.tagName!="SELECT"&&g.tagName!="INPUT"&&g.tagName!="TEXTAREA")h=document.createEvent("MouseEvents"),h.initMouseEvent("click",!0,!0,a.view,1,e.screenX,e.screenY,e.clientX,e.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),h._fake=!0,g.dispatchEvent(h)},c.options.zoom?250:0);c._resetPos(200)}c.options.onTouchEnd&&c.options.onTouchEnd.call(c,a)}}},_resetPos:function(a){var c=this.x>=0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,d=this.y>=this.minScrollY||
this.maxScrollY>0?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(c==this.x&&d==this.y){if(this.moved)this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this);if(this.hScrollbar&&this.options.hideScrollbar)b=="webkit"&&(this.hScrollbarWrapper.style[b+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0";if(this.vScrollbar&&this.options.hideScrollbar)b=="webkit"&&(this.vScrollbarWrapper.style[b+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity=
"0"}else this.scrollTo(c,d,a||0)},_wheel:function(a){var b=this,c,d;"wheelDeltaX"in a?(c=a.wheelDeltaX/12,d=a.wheelDeltaY/12):c="detail"in a?d=-a.detail*3:d=-a.wheelDelta;if(b.options.wheelAction=="zoom"){d=b.scale*Math.pow(2,1/3*(d?d/Math.abs(d):0));if(d<b.options.zoomMin)d=b.options.zoomMin;if(d>b.options.zoomMax)d=b.options.zoomMax;d!=b.scale&&(!b.wheelZoomCount&&b.options.onZoomStart&&b.options.onZoomStart.call(b,a),b.wheelZoomCount++,b.zoom(a.pageX,a.pageY,d,400),setTimeout(function(){b.wheelZoomCount--;
!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a)},400))}else{c=b.x+c;d=b.y+d;if(c>0)c=0;else if(c<b.maxScrollX)c=b.maxScrollX;if(d>b.minScrollY)d=b.minScrollY;else if(d<b.maxScrollY)d=b.maxScrollY;b.scrollTo(c,d,0)}},_mouseout:function(a){var b=a.relatedTarget;if(b)for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,b=a.x,c=a.y,d=
(new Date).getTime(),e,g;if(!a.animating)if(a.steps.length){e=a.steps.shift();if(e.x==b&&e.y==c)e.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(e.time),a._pos(e.x,e.y),a.animating=!1,e.time?a._bind("webkitTransitionEnd"):a._resetPos(0)):function z(){var h=(new Date).getTime();if(h>=d+e.time)a._pos(e.x,e.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();else if(h=(h-d)/e.time-1,g=f.sqrt(1-h*h),h=(e.x-b)*g+b,a._pos(h,(e.y-c)*g+c),
a.animating)a.aniTime=n(z)}()}else a._resetPos(400)},_transitionTime:function(a){a+="ms";this.scroller.style[b+"TransitionDuration"]=a;this.hScrollbar&&(this.hScrollbarIndicator.style[b+"TransitionDuration"]=a);this.vScrollbar&&(this.vScrollbarIndicator.style[b+"TransitionDuration"]=a)},_momentum:function(a,b,c,d,e){var b=f.abs(a)/b,g=b*b/0.0012,h=0,h=0;a>0&&g>c?(c+=e/(6/(g/b*6.0E-4)),b=b*c/g,g=c):a<0&&g>d&&(d+=e/(6/(g/b*6.0E-4)),b=b*d/g,g=d);g*=a<0?-1:1;return{dist:g,time:f.round(b/6.0E-4)}},_offset:function(a){for(var b=
-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;a!=this.wrapper&&(b*=this.scale,c*=this.scale);return{left:b,top:c}},_snap:function(a,b){var c,d,e;e=this.pagesX.length-1;for(c=0,d=this.pagesX.length;c<d;c++)if(a>=this.pagesX[c]){e=c;break}e==this.currPageX&&e>0&&this.dirX<0&&e--;a=this.pagesX[e];d=(d=f.abs(a-this.pagesX[this.currPageX]))?f.abs(this.x-a)/d*500:0;this.currPageX=e;e=this.pagesY.length-1;for(c=0;c<e;c++)if(b>=this.pagesY[c]){e=c;break}e==this.currPageY&&
e>0&&this.dirY<0&&e--;b=this.pagesY[e];c=(c=f.abs(b-this.pagesY[this.currPageY]))?f.abs(this.y-b)/c*500:0;this.currPageY=e;e=f.round(f.max(d,c))||200;return{x:a,y:b,time:e}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){this.scroller.style[b+"Transform"]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(o,window);this._unbind(q);this._unbind(s);
this._unbind(r);this._unbind(v);this.options.hasTouch&&(this._unbind("mouseout",this.wrapper),this._unbind(w));this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a,c=0,d=0;if(this.scale<this.options.zoomMin)this.scale=this.options.zoomMin;this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||
0;this.scrollerW=f.round(this.scroller.offsetWidth*this.scale);this.scrollerH=f.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&this.maxScrollX<0;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=
this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;if(typeof this.options.snap=="string"){this.pagesX=[];this.pagesY=[];els=this.scroller.querySelectorAll(this.options.snap);for(i=0,l=els.length;i<l;i++)c=this._offset(els[i]),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,this.pagesX[i]=c.left<this.maxScrollX?this.maxScrollX:c.left*
this.scale,this.pagesY[i]=c.top<this.maxScrollY?this.maxScrollY:c.top*this.scale}else if(this.options.snap){for(this.pagesX=[];c>=this.maxScrollX;)this.pagesX[d]=c,c-=this.wrapperW,d++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);d=c=0;for(this.pagesY=[];c>=this.maxScrollY;)this.pagesY[d]=c,c-=this.wrapperH,d++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-
1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[b+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(a,b,c,d){var e=a;this.stop();e.length||(e=[{x:a,y:b,time:c,relative:d}]);for(a=0,b=e.length;a<b;a++){if(e[a].relative)e[a].x=this.x-e[a].x,e[a].y=this.y-e[a].y;this.steps.push({x:e[a].x,y:e[a].y,time:e[a].time||0})}this._startAni()},scrollToElement:function(a,b){var c;if(a=a.nodeType?a:this.scroller.querySelector(a))c=
this._offset(a),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,c.left=c.left>0?0:c.left<this.maxScrollX?this.maxScrollX:c.left,c.top=c.top>this.minScrollY?this.minScrollY:c.top<this.maxScrollY?this.maxScrollY:c.top,b=b===void 0?f.max(f.abs(c.left)*2,f.abs(c.top)*2):b,this.scrollTo(c.left,c.top,b)},scrollToPage:function(a,b,c){if(this.options.snap)a=a=="next"?this.currPageX+1:a=="prev"?this.currPageX-1:a,b=b=="next"?this.currPageY+1:b=="prev"?this.currPageY-1:b,a=a<0?0:a>this.pagesX.length-
1?this.pagesX.length-1:a,b=b<0?0:b>this.pagesY.length-1?this.pagesY.length-1:b,this.currPageX=a,this.currPageY=b,a=this.pagesX[a],b=this.pagesY[b];else{a*=-this.wrapperW;b*=-this.wrapperH;if(a<this.maxScrollX)a=this.maxScrollX;if(b<this.maxScrollY)b=this.maxScrollY}this.scrollTo(a,b,c||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(s);this._unbind(r);this._unbind(v)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):
p(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(a,c,d,e){var g=d/this.scale;if(this.options.useTransform)this.zoomed=!0,e=e===void 0?200:e,a=a-this.wrapperOffsetLeft-this.x,c=c-this.wrapperOffsetTop-this.y,this.x=a-a*g+this.x,this.y=c-c*g+this.y,this.scale=d,this.refresh(),this.x=this.x>0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[b+"TransitionDuration"]=e+
"ms",this.scroller.style[b+"Transform"]=m+this.x+"px,"+this.y+"px"+x+" scale("+d+")",this.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};typeof exports!=="undefined"?exports.iScroll=g:window.iScroll=g})();return window.iScroll}()};
Joshfire.definedModules["joshfire/adapters/android/uielements/list"]=function(){return function(f,b,e,d,c,h){return b(f,{getDefaultOptions:function(){return d.extend(this.__super(),{orientation:"up",incrementalRefresh:!1,itemTemplate:"<li id='<%=itemHtmlId%>' data-josh-ui-path='<%= path %>' data-josh-grid-id='<%= item.id %>' class='josh-"+this.type+" joshover'><%= itemInner %></li>",scroller:!0})},init:function(){var a=this;a.__super();a.scrollOptions=d.extend({},a.options.scrollOptions,{active:a.options.scroller||
!1});if(a.options.scrollBarClass)a.scrollOptions.scrollbarClass=a.options.scrollBarClass;a.setData(a.data);a.subscribe("focusItem",function(b,c){a._applyFocus(c[0])});a.subscribe("input",function(b,c){c.length>=2&&c[0]=="enter"&&(c[1]=="__lastItem"?a.publish("lastItemSelect"):c[1]!==void 0&&a.selectById(c[1]))});a.subscribe("beforeBlur",function(){h("#"+a.htmlId+" .focused").removeClass("focused")});a.subscribe("select",function(b,c){var d=c[0];h("#"+a.htmlId+" .selected").removeClass("selected");
for(var e=0,f=d.length;e<f;e++)h("#"+a.getItemHtmlId(d[e])).addClass("selected")})},insertScroller:function(){var a=this;if(a.scrollOptions&&a.getState("inserted")&&(this.hasScroller=!0,a.scrollOptions.active&&a.data&&a.data.length&&a.htmlEl.children.length))a.iScroller&&a.iScroller.destroy(),a.iScroller=new iScroll(a.htmlId,a.scrollOptions),document.addEventListener("orientationChanged",function(){a.iScroller&&a.iScroller.refresh()})},insert:function(a,b){var c=this;document.addEventListener("touchmove",
function(a){a.preventDefault()},!1);c.__super(a,b);c.subscribe("afterShow",function(){c.insertScroller()})},_applyFocus:function(a){h("#"+this.htmlId+" .focused").removeClass("focused");h("#"+this.getItemHtmlId(a)).addClass("focused")},focusByIndex:function(a){this.focusById(this.data[a].id)},focusById:function(a){this.getState("focus")!=a&&(this.setState("focus",a),this.publish("focusItem",[a]),this.focus())},getItemHtmlId:function(a){return this.getHtmlId()+"_"+a.toString().replace(/[^-A-Za-z0-9_:.]/,
"-")},getInnerHtml:function(){return this.isLoading?this.template(this.options.loadingTemplate):'<div class="'+this.htmlId+'_scroller"><ul>'+this._getItemsHtml(0)+"</ul></div>"},_getItemsHtml:function(a){var b=[],c=d.isFunction(this.options.itemTemplate)?this.options.itemTemplate:d.template(this.options.itemTemplate),e=d.isFunction(this.options.itemInnerTemplate)?this.options.itemInnerTemplate:d.template(this.options.itemInnerTemplate);if(!this.data)return"";for(var h=this.data.length;a<h;a++)this.item=
this.data[a],this.i=a,this.itemInner=e(this),this.itemHtmlId=this.getItemHtmlId(this.data[a].id),b.push(c(this));if(this.options.lastItemInnerTemplate)e=d.isFunction(this.options.lastItemInnerTemplate)?this.options.lastItemInnerTemplate:d.template(this.options.lastItemInnerTemplate),this.item={id:"__lastItem"},this.i="last",this.itemInner=e(this),this.itemHtmlId=this.getItemHtmlId("__lastItem"),b.push(c(this));return b.join("")},refresh:function(){var a=this;if(this.options.incrementalRefresh&&h("#"+
this.htmlId+" ul").size()){var b=0,c=h("#"+this.htmlId+" li");if(c.slice)for(var d=0;d<this.data.length;d++){if(c.slice(d,d+1).attr("data-josh-grid-id")!=this.data[d].id){b=d;break}c.slice(b).remove()}h("#"+this.htmlId+" ul").append(this._getItemsHtml(b));this.publish("afterRefresh")}else{if(a.iScroller)a.iScroller.destroy(),a.iScroller=null;this.__super();this.insertScroller()}setTimeout(function(){a.iScroller&&a.iScroller.refresh()},0);(b=this.getState("focus"))&&this._applyFocus(b)},setLoading:function(a){if(this.iScroller&&
a)this.iScroller.destroy(),this.iScroller=null;this.__super(a)}})}(Joshfire.loadModule("joshfire/uielements/list"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/utils/grid"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/vendor/iscroll"),Joshfire.loadModule("joshfire/vendor/zepto"))};
Joshfire.definedModules["joshfire/adapters/ios/uielements/list"]=function(){return function(f){return f}(Joshfire.loadModule("joshfire/adapters/android/uielements/list"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/uielements/panel.manager"]=function(){return function(f,b,e){return b(f,{init:function(){var b=this;b.lastSequenceId=0;b.subscribe("state",function(c,e){e[0]=="route"&&b.route(e[1])});b.currentId=!1},switchTo:function(b){var c=this;c.currentPanelId=b;e.each(c.children,function(e){e.path==c.path+"/"+b?c.app.ui.element(e.path).show():c.app.ui.element(e.path).hide()})},setup:function(b){var c=this;c.options.uiMaster&&c.app.ui.fetch(c.options.uiMaster,!1,function(){c.app.ui.element(c.options.uiMaster).subscribe("select",
function(b,a){if(!a.length||c.app.ui.get(c.path+"/"+a[0][0])===void 0)return!1;c.switchTo(a[0][0]);return!0})});b()},initView:function(b,c){var h=this;e.isString(b)&&Joshfire.require([this.options.requirePrefix+b],function(a){if(!a)return c("no such view");a=new a(h.app,h.path+"/"+b,{sequenceId:h.lastSequenceId++});return c(null,a)})}})}(Joshfire.loadModule("joshfire/uielements/panel"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/uielements/button"]=function(){return function(f,b){return b(f,{type:"Button",getHtml:function(){return this.template('<input type="button" class="joshover josh-type-<%=type%> josh-id-<%=id%> <%= htmlClass %>"  data-josh-ui-path="'+this.path+'" id="'+this.htmlId+'" value="'+this.options.label+'" />')},setLabel:function(b){this.htmlEl.value=b},init:function(){var b=this;b.__super();b.subscribe("input",function(d,c){if(c&&c.length!=0)switch(c[0]){case "enter":b.publish("select",
[b.id])}})}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["src/api/joshfire.me"]=function(){return function(f){var b=new f;return{query:function(e,d,c){b.request({url:"/proxy/",data:{data:d,url:"http://joshfire.com:40008/data/"+e},type:"POST",cache:"no",jsonp:"callback"},function(b,a){if(b)return c(b,null);var d={};try{d=JSON.parse(a)}catch(e){}return c(null,d)})},getData:function(b,d,c){this.query("get",{appId:b.id,userId:d},c)},setData:function(b,d,c,h){this.query("set",{appId:b.id,userId:d,data:c},function(){h()})}}}(Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"),
Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/templates_compiled/js/about"]=function(){return function(){return function(f){var b=[];with(f||{})b.push('<div style="padding:20px;text-align:center">\n\n\n<img src="images/powered/powered-iPad.png" style="padding:20px;margin:0 auto;width:90px;height:31px;"/>\n\n<p>\nCette application a \u00e9t\u00e9 d\u00e9velopp\u00e9e en utilisant la solution open-source <a href="http://framework.joshfire.com/">Joshfire Framework</a>.\n</p>\n\n<p>Il permet \u00e0 chaque organisateur de conf\u00e9rence TEDx de cr\u00e9er une application pour tous les supports</p>\n\n<p>Pour plus d\'information, rendez-vous sur la page github: <a href="http://github.com/joshfire/mytv">http://github.com/joshfire/mytv</a></p>\n\n<br/><br/>\n\n<\!--\n<b>About TEDx, x=independently organized event</b>\n<p>In the spirit of ideas worth spreading, TEDx is a program of\nlocal, self-organized events that bring people together to share\na TED-like experience. At a TEDx event, TEDTalks video and live\nspeakers combine to spark deep discussion and connection in a\nsmall group. These local, self-organized events are branded TEDx,\nwhere x=independently organized TED event.</p>\n<p>The TED Conference provides general guidance for the TEDx\nprogram, but individual TEDx events are self-organized.*\n(*Subject to certain rules and regulations)</p>\n\n<b>About TED</b>\n<p>TED is an annual event where some of the world\u2019s leading\nthinkers and doers are invited to share what they are most\npassionate about. \u201cTED\u201d stands for Technology, Entertainment,\nDesign \u2014 three broad subject areas that are, collectively,\nshaping our future. And in fact, the event is broader still,\nshowcasing ideas that matter in any discipline. Attendees have\ncalled it \u201cthe ultimate brain spa\u201d and \u201ca four-day journey into\nthe future.\u201d The diverse audience \u2014 CEOs, scientists, creatives,\nphilanthropists \u2014 is almost  as extraordinary as the speakers,\nwho have included Bill Clinton, Bill Gates, Jane Goodall,\nFrank Gehry, Paul Simon, Sir Richard Branson, Philippe Starck\nand Bono.</p>\n<p>TED was \ufb01rst held in Monterey, California, in 1984. In 2001,\nChris Anderson\u2019s Sapling Foundation acquired TED from its\nfounder, Richard Saul Wurman. In recent years, TED has expanded\nto include an international conference, TEDGlobal;\nmedia initiatives, including TED Talks and TED.com;\nand the TED Prize. TED2010, \u201cWhat the world Needs Now,\u201d\nwill be held Springs, California.</p>\n--\>\n\n</div>');return b.join("")}}()};
Joshfire.definedModules["src/tree.ui"]=function(){return function(f,b,e,d,c,h,a,g,k,n){window._=k;return f(b,{buildTree:function(){var b=Joshfire.adapter==="ios"?!0:!1,f=this.app;if(!TEDXID)f.mainVideoListDataPath="/talks/latest/";b=[{id:"toolbar",type:d,hideOnBlur:!1,content:"<h1>myTED.tv</h1>",children:[{id:"loginButton",type:d,autoShow:!TEDXID,content:"Wait..."}],onAfterInsert:function(){}},{id:"main",type:c,uiMaster:"/footer",children:[{id:"home",type:d,onAfterShow:function(){f.ui.element("/main/home/videodetail").publish("afterShow");
f.ui.element("/main/home/videolistpanel/videolist").publish("afterShow")},children:[{id:"videolistpanel",type:d,onAfterShow:function(){f.ui.element("/main/home/videolistpanel/videolist").publish("afterShow")},children:[{id:"videolisttitle",type:d,innerTemplate:'<p class="theme-title"><%= data.label ? data.label : "Latest videos"  %></p>'},{id:"videolist",type:e,loadingTemplate:'<div style="padding:40px;">Loading...</div>',dataPath:f.mainVideoListDataPath,incrementalRefresh:!0,lastItemInnerTemplate:"<button class='more'>Show more!</button>",
onLastItemSelect:function(a){$("#"+a.htmlId+"___lastItem button",$("#"+a.htmlId)).html("Loading...");f.data.fetch(a.dataPath,{skip:a.data.length},function(b){(!b||b.length==0)&&$("#"+a.htmlId+"___lastItem",$("#"+a.htmlId)).remove()})},onState:function(a,b,c){if(c[0]=="dataPath"){if(BUILDNAME!="iphone"&&BUILDNAME!="androidphone")var d=a.subscribe("data",function(){a.unsubscribe(d);a.selectByIndex(0)});a.options.lastItemInnerTemplate=c[1].match(/^\/tedx/)?!1:"<button class='more'>Show more!</button>";
f.ui.element("/main/home/videolistpanel/videolisttitle").setDataPath(c[1].substring(0,c[1].length-1))}},onSelect:function(){if(BUILDNAME=="iphone"||BUILDNAME=="androidphone")f.ui.element("/main/home/videodetail/videoshortdesc").hide(),f.ui.element("/main/home/videodetail").show(),f.ui.element("/main/home/videodetail/close").show(),f.ui.element("/main/home/videolistpanel").hide(),setTimeout(function(){f.ui.element("/main/home/videodetail/videoshortdesc").onState("fresh",!0,function(){f.ui.element("/main/home/videodetail/videoshortdesc").show()})},
250)},autoShow:!0,itemInnerTemplate:'<figure><img src="<%= item.image %>"/><figcaption><%= item.label %><br><span class="talker"><%= item.talker?"par "+item.talker.name:"" %></span></figcaption></figure>',scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0}]},{id:"videodetail",type:d,hideOnBlur:!0,template:"<div id='myTED__detailswrapper'><div style='display:none;' class='josh-type-<%=type%> josh-id-<%=id%>' id='<%= htmlId %>' data-josh-ui-path='<%= path %>'><div id='video-logo-ted'></div><%= htmlOuter %></div></div>",
uiDataMaster:"/main/home/videolistpanel/videolist",autoShow:BUILDNAME!="iphone"&&BUILDNAME!="androidphone",forceDataPathRefresh:!0,onAfterShow:function(){var a=f.ui.element("/footer").htmlEl.querySelector(".selected");a&&(a.getAttribute("id").replace(/(.*)_/,"")=="home"&&BUILDNAME!="iphone"&&BUILDNAME!="androidphone"?f.ui.element("/main/home/videodetail/close").hide():f.ui.element("/main/home/videodetail/close").show())},onData:function(b){var c=f.ui.element("/main/home/videodetail/player"),d=f.ui.element("/main/home/videodetail/player.youtube");
if(b.data){if(b.data.source=="youtube")d.show(),c.hide(),c.stop(),f.ui.element("/main/home/videodetail/info/videoinfo").htmlEl.style.width="100%",f.ui.element("/main/home/videodetail/info/talkerinfo").hide(),f.ui.element("/main/home/videodetail/like").hide(),d.playWithStaticUrl(b.data);else{var c=f.ui.element("/main/home/videodetail/player"),e=function(){c.playWithStaticUrl(b.data.video["240"]);c.pause()};c.show();d.hide();d.stop();f.ui.element("/main/home/videodetail/info/videoinfo").htmlEl.style.width=
"50%";f.ui.element("/main/home/videodetail/info/talkerinfo").show();TEDXID||f.ui.element("/main/home/videodetail/like").show();b.data.video?e():a.getVideo(b.data.key,function(a,c){b.data.video=k.reduce(c,function(a,b){a[b.format]={url:b.url};return a},{});e()})}f.userSession&&f.userSession.mytv&&f.userSession.mytv.favorites?(f.data.get("/talks/favorites/")||f.data.set("/talks/favorites/",k.select(f.data.get("/talks/all/"),function(a){return k.contains(f.userSession.mytv.favorites,a.id)})),k.include(f.userSession.mytv.favorites,
b.data.id)?$("#"+f.ui.element("/main/home/videodetail/like").htmlId).addClass("liked"):$("#"+f.ui.element("/main/home/videodetail/like").htmlId).removeClass("liked")):$("#"+f.ui.element("/main/home/videodetail/like").htmlId).removeClass("liked")}f.ui.element("/main/favorites/favlist").setDataPath("/talks/favorites")},children:[{id:"like",type:h,autoShow:!TEDXID,label:""},{id:"close",type:h,label:"Retour",autoShow:!1,onSelect:function(){f.ui.element("/main/home/videodetail/player").pause();if(BUILDNAME==
"iphone"||BUILDNAME=="androidphone")f.ui.element("/main/home/videodetail").hide(),f.ui.element("/main/home/videolistpanel").show();var a=f.ui.element("/footer").getState("selection")[0];f.ui.element("/main").switchTo(a)}},{id:"player",type:"video.mediaelement",autoShow:!0,controls:!0,noAutoPlay:!1,onAfterInsert:function(a){(function r(){setTimeout(function(){var b=a.app.ui.element("/main/home/videodetail/player").htmlEl.querySelector("video");if(a.app.userSession&&b&&!b.paused){var c=a.app.ui.element("/main/home/videodetail").dataPath.match(/[0-9]+$/)[0];
g.setData(a.app,a.app.userSession.uid,{currentVideo:c,time:Math.floor(b.currentTime*100)/100},function(){})}r()},1E3)})()}},{id:"player.youtube",type:"video.youtube",autoShow:!0,controls:!0,noAutoPlay:!1,width:BUILDNAME=="ipad"?460:!1,onAfterInsert:function(){}},{id:"videoshortdesc",type:d,uiDataSync:"/main/home/videodetail",innerTemplate:'<h1><%= data.label %></h1><%= data.talker ? "<h2>par "+data.talker.name+"</h2>" : "" %>'},{id:"info",type:d,uiDataSync:"/main/home/videodetail",children:[{id:"videoinfo",
type:d,uiDataSync:"/main/home/videodetail",innerTemplate:'<h1 class="label"></h1><p class="description"><%= data.summary %></p>'},{id:"talkerinfo",type:d,uiDataSync:"/main/home/videodetail",innerTemplate:'<h1 class="name"><%= data.talker ? data.talker.name : "" %></h1><p class="description"><%= data.talker ? data.talker.shortsummary : "" %></p>'}]}]}]},{id:"themes",type:d,content:"",autoShow:!1,onAfterShow:function(){f.ui.element("/main/themes/themeslist").publish("afterShow")},children:[{id:"themeslist",
type:e,dataPath:"/themes/",incrementalRefresh:!0,autoShow:!0,itemInnerTemplate:'<figure data-id="<%= item.id %>"><img src="<%= item.image ? item.image : "http://placehold.it/208x142" %>"/><figcaption><%= item.label %></figcaption></figure>',scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0,onSelect:function(a,b,c){f.ui.element("/main/home/videolistpanel/videolist").setDataPath("/themes/"+c[0]);f.ui.element("/main").switchTo("home")}}]},{id:"tedx",type:d,content:"",
autoShow:!1,onAfterShow:function(){f.ui.element("/main/tedx/tedxlist").publish("afterShow")},children:[{id:"tedxlist",type:e,dataPath:"/tedx/",incrementalRefresh:!0,autoShow:!0,itemInnerTemplate:'<figure data-id="<%= item.id %>"><img src="<%= item.image ? item.image : "http://placehold.it/208x142" %>"/><figcaption><%= item.label %></figcaption></figure>',scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0,onSelect:function(a,b,c){f.ui.element("/main/home/videolistpanel/videolist").setDataPath("/tedx/"+
c[0]);f.ui.element("/main").switchTo("home")}}]},{id:"twitter",type:d,content:"",autoShow:!1,onAfterShow:function(){f.ui.element("/main/tedx/tedxlist").publish("afterShow")},children:[{id:"twitterlist",type:e,dataPath:!1,incrementalRefresh:!0,autoShow:!0,scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0}]},{id:"favorites",type:d,autoShow:!1,onAfterShow:function(){f.ui.element("/main/favorites/favlist").publish("afterShow")},children:[{id:"mytitle",type:d,innerTemplate:'<div class="title-wrapper"><p class="theme-title">My favorites</p></div><div class="fav-not-connected"><h3>You should be connected !</a></h3></div><div class="fav-zero-favs"><h3>No favorites yet !</a></h3></div>'},
{id:"favlist",type:e,autoShow:!0,loadingTemplate:'<div style="padding:40px;">...No favorites yet...</div>',itemInnerTemplate:'<figure><img src="<%= item.image %>"/><figcaption><%= item.label %><br><span class="talker"><%= item.talker?"par "+item.talker.name:"" %></span></figcaption></figure>',scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0,onSelect:function(a,b,c){a=c[0][0];b="/talks/latest/";f.ui.element("/main/home/videolistpanel/videolist").setDataPath("/talks/favorites");
c=f.data.get(b+a);c||(b="/talks/all/",c=f.data.get(b+a));if(!c)return alert("An error occured - unable to play video "+a),!1;f.ui.element("/main/home/videodetail").setDataPath(b+a);f.ui.element("/main").switchTo("home")}}],onAfterShow:function(a){f.ui.element("/main/home/videodetail/player").player.pause();f.getState("auth")?($("#"+a.htmlId+" .fav-not-connected").hide(),f.ui.element("/main/favorites/favlist").data&&f.ui.element("/main/favorites/favlist").data.length>0&&$("#"+a.htmlId+" .fav-zero-favs").hide()):
($("#"+a.htmlId+" .fav-zero-favs").hide(),f.fbLogin())}},{id:"about",type:d,content:n()}]},{id:"footer",type:e,hideOnBlur:!1,content:"",onSelect:function(a){a[0]!="home"&&f.mainVideoListDataPath&&f.ui.element("/main/home/videolistpanel/videolist").setDataPath(f.mainVideoListDataPath);a[0]!="home"&&f.ui.element("/main/home/videodetail/player").pause()},data:[]}];Joshfire.adapter==="browser"&&b.push({id:"controls",type:"mediacontrols",media:"/player",hideDelay:5E3});return b}})}(Joshfire.loadModule("joshfire/class"),
Joshfire.loadModule("joshfire/tree.ui"),Joshfire.loadModule("joshfire/adapters/ios/uielements/list"),Joshfire.loadModule("joshfire/uielements/panel"),Joshfire.loadModule("joshfire/uielements/panel.manager"),Joshfire.loadModule("joshfire/uielements/button"),Joshfire.loadModule("src/api/ted"),Joshfire.loadModule("src/api/joshfire.me"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("src/templates_compiled/js/about"))};
Joshfire.definedModules["joshfire/utils/splashscreen"]=function(){return function(f,b){return f({__constructor:function(e){e=b.extend({htmlId:"splashscreen"},e);this.id=e.htmlId;if(e.timeout){var d=this;setTimeout(function(){d.remove()},e.timeout)}},remove:function(){if(document)document.getElementById(this.id).style.display="none"}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/app"]=function(){return function(f,b,e,d,c,h){return b(f,{id:"myTEDtv",uiClass:d,dataClass:e,setup:function(a){var b=this;this.splash=new h;if(TEDXID)this.data.fetch("/tedx/",!1,function(){});else{var c=b.ui.element("/main/home/videolistpanel/videolist");c.subscribe("data",function(a,d,e){c.unsubscribe(e);b.ui.setState("focus","/main/home/videolistpanel/videolist");BUILDNAME!="iphone"&&BUILDNAME!="androidphone"&&c.selectByIndex(0);b.ui.element("/footer").selectById("home");
b.splash.remove()});b.ui.element("/footer").setData([{id:"home",label:"Latest"},{id:"themes",label:"Themes"},{id:"tedx",label:"TEDx"},{id:"favorites",label:"My favorites"},{id:"about",label:"About"}])}a&&a(null)},setTEDxMode:function(a){var b=this;if(!this.tedxmeta)this.tedxmeta=a,b.ui.element("/toolbar").onState("inserted",!0,function(){document.getElementsByTagName("title")[0].innerText=a.title;b.ui.element("/toolbar").htmlEl.firstChild.innerText=a.title;b.data.fetch("/tedx/",!1,function(a,c){var d=
[];if(c.length)b.mainVideoListDataPath="/tedx/"+c[0].id+"/",b.ui.element("/main/home/videolistpanel/videolist").setDataPath(b.mainVideoListDataPath),c.length==1?d.push({id:"home",label:"Videos"}):d.push({id:"tedx",label:"\u00c9v\u00e8nements"});d.push({id:"about",label:"\u00c0 propos"});b.ui.element("/footer").setData(d);c&&c.length==1?(b.ui.element("/footer").selectById("home"),b.ui.element("/main/tedx/tedxlist").selectByIndex(0)):b.ui.element("/footer").selectById("tedx");b.splash.remove()})})}})}(Joshfire.loadModule("joshfire/adapters/ios/app"),
Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("src/tree.data"),Joshfire.loadModule("src/tree.ui"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/utils/splashscreen"))};
Joshfire.definedModules["src/vendor/add2home"]=function(){return function(){function f(){clearInterval(v);clearTimeout(w);w=null;m.removeEventListener("webkitTransitionEnd",e,!1);var a=g?window.scrollY-r:window.scrollY+window.innerHeight-r,b=g?window.scrollX-startX:window.scrollX+Math.round((window.innerWidth-m.offsetWidth)/2)-startX,c="1",d="0";(d=m.querySelector(".close"))&&d.removeEventListener("click",f,!1);m.style.webkitTransitionProperty="-webkit-transform,opacity";switch(t.animationOut){case "drop":g?
(d="0.4s",c="0",a+=50):(d="0.6s",a=a+m.offsetHeight+t.bottomOffset+50);break;case "bubble":g?(d="0.8s",a=a-m.offsetHeight-t.bottomOffset-50):(d="0.4s",c="0",a-=50);break;default:d="0.8s",c="0"}m.addEventListener("webkitTransitionEnd",e,!1);m.style.opacity=c;m.style.webkitTransitionDuration=d;m.style.webkitTransform="translate3d("+b+"px,"+a+"px,0)"}function b(){var a=new WebKitCSSMatrix(window.getComputedStyle(m,null).webkitTransform),b=g?window.scrollY-r:window.scrollY+window.innerHeight-r,c=g?window.scrollX-
startX:window.scrollX+Math.round((window.innerWidth-m.offsetWidth)/2)-startX;b==a.m42&&c==a.m41||(clearInterval(v),m.removeEventListener("webkitTransitionEnd",e,!1),setTimeout(function(){m.addEventListener("webkitTransitionEnd",e,!1);m.style.webkitTransform="translate3d("+c+"px,"+b+"px,0)"},0))}function e(){m.removeEventListener("webkitTransitionEnd",e,!1);m.style.webkitTransitionProperty="-webkit-transform";m.style.webkitTransitionDuration="0.2s";w?(clearInterval(v),v=setInterval(b,t.iterations)):
m.parentNode.removeChild(m)}function d(){window.removeEventListener("load",d,!1);setTimeout(function(){var a;r=g?window.scrollY:window.innerHeight+window.scrollY;startX=g?window.scrollX:Math.round((window.innerWidth-m.offsetWidth)/2)+window.scrollX;m.style.top=g?r+t.bottomOffset+"px":r-m.offsetHeight-t.bottomOffset+"px";m.style.left=g?startX+208-Math.round(m.offsetWidth/2)+"px":startX+"px";switch(t.animationIn){case "drop":g?(a="0.6s",m.style.webkitTransform="translate3d(0,"+-(window.scrollY+t.bottomOffset+
m.offsetHeight)+"px,0)"):(a="0.9s",m.style.webkitTransform="translate3d(0,"+-(r+t.bottomOffset)+"px,0)");break;case "bubble":g?(a="0.6s",m.style.opacity="0",m.style.webkitTransform="translate3d(0,"+(r+50)+"px,0)"):(a="0.6s",m.style.webkitTransform="translate3d(0,"+(m.offsetHeight+t.bottomOffset+50)+"px,0)");break;default:a="1s",m.style.opacity="0"}setTimeout(function(){m.style.webkitTransitionDuration=a;m.style.opacity="1";m.style.webkitTransform="translate3d(0,0,0)";m.addEventListener("webkitTransitionEnd",
e,!1)},0);w=setTimeout(f,t.lifespan)},t.startDelay)}function c(){document.removeEventListener("DOMContentLoaded",c,!1);var a=document.createElement("div"),b=t.touchIcon?document.querySelectorAll("head link[rel=apple-touch-icon],head link[rel=apple-touch-icon-precomposed]"):[],d,e="";a.id="addToHomeScreen";a.style.cssText+="position:absolute;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);";a.style.left="-9999px";if(t.message in
j)s=t.message,t.message="";if(t.message=="")t.message=s in j?j[s]:j.en_us;if(b.length){for(x=0,y=b.length;x<y;x++)if(d=b[x].getAttribute("sizes")){if(k&&d=="114x114"){e=b[x].href;break}}else e=b[x].href;e='<span style="background-image:url('+e+')" class="touchIcon"></span>'}a.className=(g?"ipad":"iphone")+(e?" wide":"");a.innerHTML=e+t.message.replace("%device",q).replace("%icon",o>=4.2?'<span class="share"></span>':'<span class="plus">+</span>')+(t.arrow?'<span class="arrow"></span>':"")+'<span class="close">\u00d7</span>';
document.body.appendChild(a);m=a;(a=m.querySelector(".close"))&&a.addEventListener("click",f,!1);t.expire&&localStorage.setItem("_addToHome",(new Date).getTime()+t.expire*6E4)}var h=navigator,a=/iphone|ipod|ipad/gi.test(h.platform),g=/ipad/gi.test(h.platform),k="devicePixelRatio"in window&&window.devicePixelRatio>1,n=h.appVersion.match(/Safari/gi),p=(a="standalone"in h&&a)&&h.standalone,o=h.appVersion.match(/OS \d+_\d+/g),q=h.platform.split(" ")[0],s=h.language.replace("-","_"),r=startX=0,h=localStorage.getItem("_addToHome"),
v,w,m,x,y,t={animationIn:"drop",animationOut:"fade",startDelay:2E3,lifespan:2E4,bottomOffset:14,expire:0,message:"",touchIcon:!1,arrow:!0,iterations:100},j={ca_es:"Per instal\u00b7lar aquesta aplicaci\u00f3 al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",da_dk:"Tilf\u00f8j denne side til din %device: tryk p\u00e5 %icon og derefter <strong>Tilf\u00f8j til hjemmesk\u00e6rm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",
el_gr:"\u0395\u03b3\u03ba\u03b1\u03c4\u03b1\u03c3\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ae\u03bd \u03c4\u03b7\u03bd \u0395\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae \u03c3\u03c4\u03ae\u03bd \u03c3\u03c5\u03c3\u03ba\u03b5\u03c5\u03ae \u03c3\u03b1\u03c2 %device: %icon \u03bc\u03b5\u03c4\u03ac \u03c0\u03b1\u03c4\u03ac\u03c4\u03b5 <strong>\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c3\u03b5 \u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",
es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>A\u00f1adir a pantalla de inicio</strong>.",fi_fi:"Asenna t\u00e4m\u00e4 web-sovellus laitteeseesi %device: paina %icon ja sen j\u00e4lkeen valitse <strong>Lis\u00e4\u00e4 Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter \u00e0 l'\u00e9cran d'accueil</strong>.",he_il:'<span dir="rtl">\u05d4\u05ea\u05e7\u05df \u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4 \u05d6\u05d5 \u05e2\u05dc \u05d4-%device \u05e9\u05dc\u05da: \u05d4\u05e7\u05e9 %icon \u05d5\u05d0\u05d6 <strong>\u05d4\u05d5\u05e1\u05e3 \u05dc\u05de\u05e1\u05da \u05d4\u05d1\u05d9\u05ea</strong>.</span>',
hu_hu:"Telep\u00edtse ezt a web-alkalmaz\u00e1st az \u00d6n %device-j\u00e1ra: nyomjon a %icon-ra majd a <strong>F\u0151k\u00e9perny\u0151h\u00f6z ad\u00e1s</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"\u3053\u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u3092\u3042\u306a\u305f\u306e%device\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f%icon\u3092\u30bf\u30c3\u30d7\u3057\u3066<strong>\u30db\u30fc\u30e0\u753b\u9762\u306b\u8ffd\u52a0</strong>\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",
ko_kr:'%device\uc5d0 \uc6f9\uc571\uc744 \uc124\uce58\ud558\ub824\uba74 %icon\uc744 \ud130\uce58 \ud6c4 "\ud648\ud654\uba74\uc5d0 \ucd94\uac00"\ub97c \uc120\ud0dd\ud558\uc138\uc694',nb_no:"Installer denne appen p\u00e5 din %device: trykk p\u00e5 %icon og deretter <strong>Legg til p\u00e5 Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Zet in beginscherm</strong>.",pt_br:"Instale este web app em seu %device: aperte %icon e selecione <strong>Adicionar \u00e0 Tela Inicio</strong>.",
pt_pt:"Para instalar esta aplica\u00e7\u00e3o no seu %device, prima o %icon e depois o <strong>Adicionar ao ecr\u00e3 principal</strong>.",ru_ru:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0432\u0430\u0448 %device: \u043d\u0430\u0436\u043c\u0438\u0442\u0435 %icon, \u0437\u0430\u0442\u0435\u043c <strong>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u00ab\u0414\u043e\u043c\u043e\u0439\u00bb</strong>.",
sv_se:"L\u00e4gg till denna webbapplikation p\u00e5 din %device: tryck p\u00e5 %icon och d\u00e4refter <strong>L\u00e4gg till p\u00e5 hemsk\u00e4rmen</strong>.",th_th:"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e47\u0e1a\u0e41\u0e2d\u0e1e\u0e2f \u0e19\u0e35\u0e49\u0e1a\u0e19 %device \u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13: \u0e41\u0e15\u0e30 %icon \u0e41\u0e25\u0e30 <strong>\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e17\u0e35\u0e48\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d\u0e42\u0e2e\u0e21</strong>",
tr_tr:"%device i\u00e7in bu uygulamay\u0131 kurduktan sonra %icon simgesine dokunarak <strong>Ev Ekran\u0131na Ekle</strong>yin.",zh_cn:"\u60a8\u53ef\u4ee5\u5c06\u6b64\u5e94\u7528\u7a0b\u5f0f\u5b89\u88c5\u5230\u60a8\u7684 %device \u4e0a\u3002\u8bf7\u6309 %icon \u7136\u540e\u70b9\u9009<strong>\u6dfb\u52a0\u81f3\u4e3b\u5c4f\u5e55</strong>\u3002",zh_tw:"\u60a8\u53ef\u4ee5\u5c07\u6b64\u61c9\u7528\u7a0b\u5f0f\u5b89\u88dd\u5230\u60a8\u7684 %device \u4e0a\u3002\u8acb\u6309 %icon \u7136\u5f8c\u9ede\u9078<strong>\u52a0\u5165\u4e3b\u756b\u9762\u87a2\u5e55</strong>\u3002"},
o=o?o[0].replace(/[^\d_]/g,"").replace("_",".")*1:0,h=h=="null"?0:h*1;if(window.addToHomeConfig)for(x in window.addToHomeConfig)t[x]=window.addToHomeConfig[x];if(!t.expire||h<(new Date).getTime())h=0;return a&&!h&&!p&&n?{close:f,ready:c,loaded:d,needed:!0}:{needed:!1}}()};
Joshfire.definedModules["src/app.ios"]=function(){return function(f,b,e,d,c){return b(f,{id:"myTED",fullscreenCheck:function(){if(c.needed)Joshfire.onReady(function(){c.ready();c.loaded()})},setup:function(b){var a=this;a.fullscreenCheck();this.__super(function(){var c=a.ui.element("/main/home/videodetail/like");c.subscribe("input",function(){$("#"+c.htmlId).toggleClass("liked");if(!a.userSession)return!1;var b=e.extend([],a.userSession.mytv.favorites),f=""+a.ui.element("/main/home/videodetail").dataPath.match(/[0-9]+$/)[0];
e.include(b,f)?b=e.without(b,f):b.push(f);d.setData(a,a.userSession.uid,{favorites:b},function(){a.userSession.mytv.favorites=b;a.data.update("/talks/favorites/",e.select(a.data.get("/talks/all/"),function(b){return e.contains(a.userSession.mytv.favorites,b.id)}))})});a.fbInit(b)})},fbInit:function(b){var a=this;if(TEDXID)return b();window.fbAsyncInit=function(){FB.init({appId:214358631942957,status:!0,cookie:!0,xfbml:!0});FB.getLoginStatus(function(b){var c=a.ui.element("/toolbar/loginButton").htmlEl;
b.session?(a.userSession=b.session,a.setState("auth",!0),c.innerHTML="Logout",c.onclick=a.fbLogout,d.getData(a,a.userSession.uid,function(b,c){a.userSession.mytv=!b&&c?c:{favorites:[]};FB.api("/me",function(b){a.userSession.name=b.name;a.data.get("/talks/favorites").label=b.name+"'s favorites"})})):(a.setState("auth",!1),c.innerHTML='<a href="http://www.facebook.com/dialog/oauth?client_id=214358631942957&redirect_uri='+window.location+'&display=touch&scope=read_stream,publish_stream,offline_access">Login</a>')})};
var c=document.createElement("script");c.async=!0;c.src="http://connect.facebook.net/en_US/all.js";document.getElementById("fb-root").appendChild(c);b()},fbLogin:function(){var b=this;FB&&FB.login(function(a){if(a.session&&a.perms)b.userSession=a.session,b.setState("auth",!0)},{perms:"read_stream,publish_stream,offline_access"})},fbLogout:function(){FB.logout(function(){window.location=window.location})}})}(Joshfire.loadModule("src/app"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"),
Joshfire.loadModule("src/api/joshfire.me"),Joshfire.loadModule("src/vendor/add2home"))};
Joshfire.definedModules["joshfire/uielements/video"]=function(){return function(f,b){return b(f,{type:"Video",isDefaultPlayer:!0,init:function(){},play:function(b){if(b&&b.url){var d=this;if(typeof b.url=="function")b.url(function(c,f){if(c)return d.error(4);b.url=f;d.playWithStaticUrl(b)});else return d.playWithStaticUrl(b)}},playPrev:function(){},playNext:function(){var b=this,d=b.app.tree.getData(b.treeCurrent).playlistNext||["next"];b.app.tree.resolveMoves(b.treeCurrent,d,!1,function(c){b.app.tree.moveTo("focus",
c);b.app.publish("input",["enter"])})},pause:function(){},refresh:function(){},getHtml:function(){return""}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/vendor/mediaelement"]=function(){return function(){var f=f||{};f.version="2.1.2";f.meIndex=0;f.plugins={silverlight:[{version:[3,0],types:"video/mp4,video/m4v,video/mov,video/wmv,audio/wma,audio/m4a,audio/mp3,audio/wav,audio/mpeg".split(",")}],flash:[{version:[9,0,124],types:"video/mp4,video/m4v,video/mov,video/flv,video/x-flv,audio/flv,audio/x-flv,audio/mp3,audio/m4a,audio/mpeg".split(",")}]};f.Utility={encodeUrl:function(b){return encodeURIComponent(b)},escapeHTML:function(b){return b.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},
absolutizeUrl:function(b){var e=document.createElement("div");e.innerHTML='<a href="'+this.escapeHTML(b)+'">x</a>';return e.firstChild.href},getScriptPath:function(b){for(var e=0,d,c="",f="",a,g=document.getElementsByTagName("script");e<g.length;e++){a=g[e].src;for(d=0;d<b.length;d++)if(f=b[d],a.indexOf(f)>-1){c=a.substring(0,a.indexOf(f));break}if(c!=="")break}return c},secondsToTimeCode:function(b){var b=Math.round(b),e=Math.floor(b/60),b=Math.floor(b%60);return(e>=10?e:"0"+e)+":"+(b>=10?b:"0"+
b)}};f.PluginDetector={hasPluginVersion:function(b,e){var d=this.plugins[b];e[1]=e[1]||0;e[2]=e[2]||0;return d[0]>e[0]||d[0]==e[0]&&d[1]>e[1]||d[0]==e[0]&&d[1]==e[1]&&d[2]>=e[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(b,e,d,c,f){this.plugins[b]=this.detectPlugin(e,d,c,f)},detectPlugin:function(b,e,d,c){var f=[0,0,0],a;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[b]=="object"){if((d=this.nav.plugins[b].description)&&
!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[e]&&!this.nav.mimeTypes[e].enabledPlugin)){f=d.replace(b,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(b=0;b<f.length;b++)f[b]=parseInt(f[b].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{(a=new ActiveXObject(d))&&(f=c(a))}catch(g){}return f}};f.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(b){var e=[];if(b=b.GetVariable("$version"))b=
b.split(" ")[1].split(","),e=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)];return e});f.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(b){var e=[0,0,0,0],d=function(b,d,a,e){for(;b.isVersionSupported(d[0]+"."+d[1]+"."+d[2]+"."+d[3]);)d[a]+=e;d[a]-=e};d(b,e,0,1);d(b,e,1,1);d(b,e,2,1E4);d(b,e,2,1E3);d(b,e,2,100);d(b,e,2,10);d(b,e,2,1);d(b,e,3,1);return e});if(f.PluginDetector.ua.match(/android 2\.[12]/)!==null)HTMLMediaElement.canPlayType=
function(b){return b.match(/video\/(mp4|m4v)/gi)!==null?"probably":""};f.MediaFeatures={init:function(){var b=f.PluginDetector.nav,e=f.PluginDetector.ua.toLowerCase(),d,c=["source","track","audio","video"];this.isiPad=e.match(/ipad/i)!==null;this.isiPhone=e.match(/iphone/i)!==null;this.isAndroid=e.match(/android/i)!==null;this.isIE=b.appName.toLowerCase().indexOf("microsoft")!=-1;this.isChrome=e.match(/chrome/gi)!==null;for(b=0;b<c.length;b++)d=document.createElement(c[b]);this.hasNativeFullScreen=
typeof d.webkitEnterFullScreen!=="undefined";if(this.isChrome)this.hasNativeFullScreen=!1}};f.MediaFeatures.init();f.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(b){this.currentTime=b},setMuted:function(b){this.muted=b},setVolume:function(b){this.volume=b},stop:function(){this.pause()},setSrc:function(b){if(typeof b=="string")this.src=b;else{var e,d;for(e=0;e<b.length;e++)if(d=b[e],this.canPlayType(d.type))this.src=d.src}},setVideoSize:function(b,e){this.width=b;this.height=
e}};f.PluginMediaElement=function(b,e,d){this.id=b;this.pluginType=e;this.src=d;this.events={}};f.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,muted:!1,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null)this.pluginApi.playMedia(),this.paused=!1},load:function(){if(this.pluginApi!=null)this.pluginApi.loadMedia(),this.paused=!1},pause:function(){if(this.pluginApi!=
null)this.pluginApi.pauseMedia(),this.paused=!0},stop:function(){if(this.pluginApi!=null)this.pluginApi.stopMedia(),this.paused=!0},canPlayType:function(b){var e,d,c,h=f.plugins[this.pluginType];for(e=0;e<h.length;e++)if(c=h[e],f.PluginDetector.hasPluginVersion(this.pluginType,c.version))for(d=0;d<c.types.length;d++)if(b==c.types[d])return!0;return!1},setSrc:function(b){if(typeof b=="string")this.pluginApi.setSrc(f.Utility.absolutizeUrl(b)),this.src=f.Utility.absolutizeUrl(b);else{var e,d;for(e=0;e<
b.length;e++)if(d=b[e],this.canPlayType(d.type))this.pluginApi.setSrc(f.Utility.absolutizeUrl(d.src)),this.src=f.Utility.absolutizeUrl(b)}},setCurrentTime:function(b){if(this.pluginApi!=null)this.pluginApi.setCurrentTime(b),this.currentTime=b},setVolume:function(b){if(this.pluginApi!=null)this.pluginApi.setVolume(b),this.volume=b},setMuted:function(b){if(this.pluginApi!=null)this.pluginApi.setMuted(b),this.muted=b},setVideoSize:function(b,e){if(this.pluginElement.style)this.pluginElement.style.width=
b+"px",this.pluginElement.style.height=e+"px";this.pluginApi!=null&&this.pluginApi.setVideoSize(b,e)},setFullscreen:function(b){this.pluginApi!=null&&this.pluginApi.setFullscreen(b)},addEventListener:function(b,e){this.events[b]=this.events[b]||[];this.events[b].push(e)},removeEventListener:function(b,e){if(!b)return this.events={},!0;var d=this.events[b];if(!d)return!0;if(!e)return this.events[b]=[],!0;for(i=0;i<d.length;i++)if(d[i]===e)return this.events[b].splice(i,1),!0;return!1},dispatchEvent:function(b){var e,
d,c=this.events[b];if(c){d=Array.prototype.slice.call(arguments,1);for(e=0;e<c.length;e++)c[e].apply(null,d)}}};f.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(b,e,d){this.pluginMediaElements[b]=e;this.htmlMediaElements[b]=d},initPlugin:function(b){var e=this.pluginMediaElements[b],d=this.htmlMediaElements[b];switch(e.pluginType){case "flash":e.pluginElement=e.pluginApi=document.getElementById(b);break;case "silverlight":e.pluginElement=document.getElementById(e.id),
e.pluginApi=e.pluginElement.Content.MediaElementJS}e.pluginApi!=null&&e.success&&e.success(e,d)},fireEvent:function(b,e,d){var c,f,b=this.pluginMediaElements[b];b.ended=!1;b.paused=!0;e={type:e,target:b};for(c in d)b[c]=d[c],e[c]=d[c];f=d.bufferedTime||0;e.target.buffered=e.buffered={start:function(){return 0},end:function(){return f},length:1};b.dispatchEvent(e.type,e)}};f.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight"],enablePluginDebug:!1,type:"",pluginPath:f.Utility.getScriptPath(["mediaelement.js",
"mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:!1,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,timerRate:250,success:function(){},error:function(){}};f.MediaElement=function(b,e){return f.HtmlMediaElementShim.create(b,e)};f.HtmlMediaElementShim={create:function(b,e){var d=f.MediaElementDefaults,c=typeof b=="string"?document.getElementById(b):
b,h=c.tagName.toLowerCase()=="video",a=typeof c.canPlayType!="undefined",g={method:"",url:""},k=c.getAttribute("poster"),n=c.getAttribute("autoplay"),p=c.getAttribute("preload"),o=c.getAttribute("controls"),q;for(q in e)d[q]=e[q];k=typeof k=="undefined"||k===null?"":k;p=typeof p=="undefined"||p===null||p==="false"?"none":p;n=!(typeof n=="undefined"||n===null||n==="false");o=!(typeof o=="undefined"||o===null||o==="false");g=this.determinePlayback(c,d,h,a);if(g.method=="native")return this.updateNative(c,
d,n,p,g);else if(g.method!=="")return this.createPlugin(c,d,h,g.method,g.url!==null?f.Utility.absolutizeUrl(g.url):"",k,n,p,o);else this.createErrorMessage(c,d,g.url!==null?f.Utility.absolutizeUrl(g.url):"",k)},determinePlayback:function(b,e,d,c){var h=[],a,g,k={method:"",url:""},n=b.getAttribute("src"),p,o;if(typeof e.type!="undefined"&&e.type!=="")h.push({type:e.type,url:null});else if(n!="undefined"&&n!==null)g=this.checkType(n,b.getAttribute("type"),d),h.push({type:g,url:n});else for(a=0;a<b.childNodes.length;a++)g=
b.childNodes[a],g.nodeType==1&&g.tagName.toLowerCase()=="source"&&(n=g.getAttribute("src"),g=this.checkType(n,g.getAttribute("type"),d),h.push({type:g,url:n}));if(c&&(e.mode==="auto"||e.mode==="native"))for(a=0;a<h.length;a++)if(b.canPlayType(h[a].type).replace(/no/,"")!==""||b.canPlayType(h[a].type.replace(/mp3/,"mpeg")).replace(/no/,"")!=="")return k.method="native",k.url=h[a].url,k;if(e.mode==="auto"||e.mode==="shim")for(a=0;a<h.length;a++){g=h[a].type;for(b=0;b<e.plugins.length;b++){n=e.plugins[b];
p=f.plugins[n];for(d=0;d<p.length;d++)if(o=p[d],f.PluginDetector.hasPluginVersion(n,o.version))for(c=0;c<o.types.length;c++)if(g==o.types[c])return k.method=n,k.url=h[a].url,k}}if(k.method==="")k.url=h[0].url;return k},checkType:function(b,e,d){return b&&!e?(b=b.substring(b.lastIndexOf(".")+1),(d?"video":"audio")+"/"+b):e&&~e.indexOf(";")?e.substr(0,e.indexOf(";")):e},createErrorMessage:function(b,e,d,c){var f=document.createElement("div");f.className="me-cannotplay";try{f.style.width=b.width+"px",
f.style.height=b.height+"px"}catch(a){}f.innerHTML=c!==""?'<a href="'+d+'"><img src="'+c+'" /></a>':'<a href="'+d+'"><span>Download File</span></a>';b.parentNode.insertBefore(f,b);b.style.display="none";e.error(b)},createPlugin:function(b,e,d,c,h,a,g,k,n){var p=a=1,o="me_"+c+"_"+f.meIndex++,q=new f.PluginMediaElement(o,c,h),s=document.createElement("div"),r;for(r=b.parentNode;r!==null&&r.tagName.toLowerCase()!="body";){if(r.parentNode.tagName.toLowerCase()=="p"){r.parentNode.parentNode.insertBefore(r,
r.parentNode);break}r=r.parentNode}d?(a=e.videoWidth>0?e.videoWidth:b.getAttribute("width")!==null?b.getAttribute("width"):e.defaultVideoWidth,p=e.videoHeight>0?e.videoHeight:b.getAttribute("height")!==null?b.getAttribute("height"):e.defaultVideoHeight):e.enablePluginDebug&&(a=320,p=240);q.success=e.success;f.MediaPluginBridge.registerPluginElement(o,q,b);s.className="me-plugin";b.parentNode.insertBefore(s,b);d=["id="+o,"isvideo="+(d?"true":"false"),"autoplay="+(g?"true":"false"),"preload="+k,"width="+
a,"timerrate="+e.timerRate,"height="+p];h!==null&&(c=="flash"?d.push("file="+f.Utility.encodeUrl(h)):d.push("file="+h));e.enablePluginDebug&&d.push("debug=true");e.enablePluginSmoothing&&d.push("smoothing=true");n&&d.push("controls=true");switch(c){case "silverlight":s.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+o+'" name="'+o+'" width="'+a+'" height="'+p+'"><param name="initParams" value="'+d.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+
e.pluginPath+e.silverlightName+'" /></object>';break;case "flash":f.MediaFeatures.isIE?(c=document.createElement("div"),s.appendChild(c),c.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+o+'" width="'+a+'" height="'+p+'"><param name="movie" value="'+e.pluginPath+e.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+d.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):
s.innerHTML='<embed id="'+o+'" name="'+o+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+e.pluginPath+e.flashName+'" flashvars="'+d.join("&")+'" width="'+a+'" height="'+p+'"></embed>'}b.style.display="none";return q},updateNative:function(b,e,d,c,h){for(var a in f.HtmlMediaElement)b[a]=f.HtmlMediaElement[a];if(f.MediaFeatures.isChrome)c===
"none"&&!d?(b.src="",b.load(),b.canceledPreload=!0,b.addEventListener("play",function(){if(b.canceledPreload)b.src=h.url,b.load(),b.play(),b.canceledPreload=!1},!1)):d&&(b.load(),b.play());e.success(b,b);return b}};window.mejs=f;window.MediaElement=f.MediaElement;return f}()};
Joshfire.definedModules["joshfire/adapters/ios/uielements/video.mediaelement"]=function(){return function(f,b,e,d){return b(f,{init:function(){this.listeners={};this.videoStatus=this.player=!1;this.videoDuration=0;var b=this;this.app.subscribe("input",function(d,a){b.isDefaultPlayer&&b.handleInputEvent(a)});this.subscribe("input",function(d,a){b.handleInputEvent(a)});e(window).bind("unload",function(){try{b.remove()}catch(d){}});this.__super()},handleInputEvent:function(b){b[0]=="play"?this.resume():
b[0]=="stop"?this.stop():b[0]=="pause"?this.pause():b[0]=="next"?this.playNext():b[0]=="prev"?this.playPrev():b[0]=="seekTo"?this.setCurrentTime(b[1]):b[0]=="seekBy"&&this.setCurrentTime(this.getCurrentTime()+b[1])},error:function(b){this.errorCode=this.errorCode!=0?this.errorCode:b.srcElement.error.code;b=this.options.errorMessages||{};switch(this.errorCode){case 1:this.message="<span>"+(b.aborted||"The loading of the video was aborted")+"</span>";break;case 2:this.message="<span>"+(b.network||"A network problem is preventing the video from loading")+
"</span>";break;case 3:this.message="<span>"+(b.decode||"The video format is not recognized")+"</span>";break;case 4:this.message="<span>"+(b.notsupported||"The video couldn't be loaded because of a server issue")+"</span>";break;default:this.message="<span>"+(b.other||"Unknown error")+"</span>"}this.publish("error",{message:this.message,number:this.errorCode,origin:"adapters/browser/uielements/video.mediaelement"})},startListening:function(b,d,a){this.listeners[d]=a;b.addEventListener(d,a)},stopListeningAll:function(b){d.each(this.listeners,
function(d,a){try{b.removeEventListener(d,a)}catch(e){}})},refresh:function(){},setVideoStatus:function(b){this.videoStatus=b;this.publish(b)},playWithStaticUrl:function(b){var d=this,a=d.options.controls?" controls":"";e("#"+d.htmlId)[0].innerHTML='<span class="close">Close</span><video id="'+d.htmlId+'_video" src="'+b.url+'" '+(b.noautoplay?"":'autoplay="true"')+" autobuffer preload "+(b.image?'poster="'+b.image+'"':"")+a+" />";d.player=document.getElementById(d.htmlId+"_video");d.player.paused&&
e("#"+d.player.id).addClass("video-paused");if(!a){var f;try{document.createEvent("TouchEvent"),f="touchstart MozTouchDown"}catch(k){f="mousedown"}e("#"+d.htmlId+" .close").bind(f,function(){e("#"+d.htmlId).html("").hide()});e("#"+d.htmlId+"_video").bind(f,function(){e("#"+d.player.id).toggleClass("video-paused");d.player.paused?d.player.play():d.player.pause()})}d.setVideoStatus("loading")},pause:function(){this.setVideoStatus("paused");this.player&&this.player.pause()},resume:function(){this.setVideoStatus("playing");
this.player&&this.player.play()},stop:function(){this.setVideoStatus("stopped");this.player&&this.player.pause()},getCurrentTime:function(){return this.player?this.player.currentTime:0},getTotalTime:function(){return this.videoDuration},setCurrentTime:function(b){this.player&&this.player.setCurrentTime(Math.max(0,b))},remove:function(){this.playingPath=!1;if(this.player){try{this.stopListeningAll(this.player)}catch(b){}try{this.player.pause()}catch(d){}try{this.player.stop()}catch(a){}try{this.setVideoStatus("stopped")}catch(f){}try{this.player.setSrc("/images/mediaelement/spacer.gif"),
this.player.load()}catch(k){}try{this.player.stop()}catch(n){}try{e(this.player).remove()}catch(p){}try{delete this.player}catch(o){}}},getHtml:function(){return"<div class='josh-type-"+this.type+"' id='"+this.htmlId+"'></div>"}})}(Joshfire.loadModule("joshfire/uielements/video"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/zepto"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/vendor/mediaelement"))};
Joshfire.definedModules["joshfire/adapters/ios/uielements/mediacontrols"]=function(){return function(f,b){return b(f,{type:"MediaControls",init:function(){},getInnerHtml:function(){return""},refresh:function(){},show:function(){},hide:function(){}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/adapters/ios/uielements/video.youtube"]=function(){return function(f,b,e){return b(f,{init:function(){this.__super()},playWithStaticUrl:function(b){var c=this.options.width?this.options.width:e(this.htmlEl).width(),f=parseInt(c*9/16);this.htmlEl.innerHTML='<object width="'+c+'" height="'+f+'"><param name="movie" value="http://www.youtube.com/v/'+b.url+'&f=gdata_videos"></param><param name="wmode" value="transparent"></param><embed src="http://www.youtube.com/v/'+
b.url+'&f=gdata_videos"type="application/x-shockwave-flash" wmode="transparent" width="'+c+'" height="'+f+'"></embed></object>'},pause:function(){},stop:function(){this.htmlEl.innerHTML=""},getHtml:function(){return"<div class='josh-type-"+this.type+"' id='"+this.htmlId+"'></div>"}})}(Joshfire.loadModule("joshfire/uielements/video"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/zepto"),Joshfire.loadModule("joshfire/vendor/underscore"))};
